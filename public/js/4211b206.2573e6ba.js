(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["4211b206"],{2497:function(e,t,r){},"363f":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.errorList.length?r("div",{staticClass:"row"},[r("q-card",{staticClass:"error-card q-mt-md bg-red-1",attrs:{flat:"",bordered:""}},[r("q-toolbar",{staticClass:"bg-red-1"},[r("q-icon",{attrs:{name:"error",size:"32px",color:"red"}}),r("q-toolbar-title",[e._v(e._s(e.$t("backend_error_header")))])],1),r("q-list",{attrs:{bordered:""}},e._l(e.errorList,(function(t){return r("q-item",{key:t,staticClass:"q-my-xs error-item"},[r("q-item-section",[r("q-item-label",[e._v(" "+e._s(t)+" ")])],1)],1)})),1)],1)],1):e._e()},o=[],a={props:{errorList:Array}},n=a,l=(r("4ffb"),r("2877")),s=Object(l["a"])(n,i,o,!1,null,null,null);t["a"]=s.exports},"4ffb":function(e,t,r){"use strict";var i=r("2497"),o=r.n(i);o.a},"6cb8":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{attrs:{padding:""}},[r("q-card",{staticClass:"input-card"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[r("input",{ref:"inputImageFileSelection",style:{display:"none"},attrs:{id:"inputImageFileSelection",type:"file",accept:"image/*"},on:{change:e.upload}}),r("div",{staticClass:"row q-mb-md"},[r("q-banner",{staticClass:"bg-grey-3 col",scopedSlots:e._u([{key:"avatar",fn:function(){return[r("q-icon",{attrs:{name:"portrait",color:"primary"}})]},proxy:!0}])},[e._v("\n          "+e._s(e.$t("profile_profilePicture_title"))+"\n        ")])],1),r("div",{staticClass:"row q-mb-md items-start"},[r("q-btn",{attrs:{color:"primary",icon:"cloud_upload",label:e.getActiveProfileImageContent?e.$t("profile_profilePicture_button_changeFile_label"):e.$t("profile_profilePicture_button_selectFile_label"),disable:e.getFileProcessingStatusWithTemporaryFileId(e.temporaryFileId)},on:{click:function(t){return e.$refs.inputImageFileSelection.click()}}}),r("q-btn",{staticClass:"q-ml-md",attrs:{color:"secondary",icon:"delete_forever",label:e.$t("profile_profilePicture_button_deleteFile_label"),disable:!e.getActiveProfileImageId||e.getFileProcessingStatusWithTemporaryFileId(e.temporaryFileId)},on:{click:function(t){e.showConfirmDelete=!0}}})],1),e.localFileContent?r("div",{staticClass:"row q-mb-md"},[r("q-img",{staticStyle:{"max-height":"200px","max-width":"200px"},attrs:{src:e.localFileContent,"spinner-color":"white"}},[e.getFileProcessingStatusWithTemporaryFileId(e.temporaryFileId)?r("div",{staticClass:"absolute-full flex flex-center"},[r("q-spinner",{attrs:{color:"primary",size:"3em"}})],1):e._e()])],1):e._e(),!e.localFileContent&&e.getActiveProfileImageContent?r("div",{staticClass:"row q-mb-md"},[r("q-img",{staticStyle:{"max-height":"200px","max-width":"200px"},attrs:{src:e.getActiveProfileImageContent,"spinner-color":"white"}},[e.getFileProcessingStatusWithTemporaryFileId(e.temporaryFileId)?r("div",{staticClass:"absolute-full flex flex-center"},[r("q-spinner",{attrs:{color:"primary",size:"3em"}})],1):e._e()])],1):e._e(),r("confirm-yes-no",{key:e.showConfirmDelete,attrs:{propShow:e.showConfirmDelete,propConfirmMessage:e.m("app_confirm_Really_delete_recordname",{recordname_nominativSingular:e.$t("recordname_profilePicture_nominativSingular")}),propIconMessage:"mdi-account-question-outline",propOkButtonLabel:e.$t("app_button_Delete")},on:{confirmed:e.deleteImage,hide:function(t){e.showConfirmDelete=!1}}}),r("error-row-card",{attrs:{errorList:e.getFileErrorlist}})],1)])],1)},o=[],a=(r("8e6e"),r("8a81"),r("ac6a"),r("cadf"),r("06db"),r("456d"),r("7f7f"),r("c47a")),n=r.n(a),l=r("2f62"),s=r("7429"),c=r("363f"),p=r("d671"),u=r("a40e"),f=r("82ab");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g={name:"ProfilePicture",data:function(){return{localFileContent:"",temporaryFileId:null,showConfirmDelete:!1}},methods:d({upload:function(e){var t=this;if(e.target.files.length){this.fileUploadInitialize();var r=e.target.files[0];this.temporaryFileId=Date.now(),r.temporaryFileId=this.temporaryFileId,r.isProfileImage=!0;var i=new FileReader;i.readAsDataURL(r),i.onload=function(e){var i=r;i.temporaryFileId=r.temporaryFileId,i.nameWithExtension=r.name,i.filecontent=e.target.result,i.isProcessing=!0,i.isProfileImage=!1,t.fileAddTemporaryFile(i),t.localFileContent=e.target.result,t[u["f"]]({file:r,filecontent:t.localFileContent,profileId:t.$store.state.profile.activeProfile&&t.$store.state.profile.activeProfile.id,temporaryFileId:t.temporaryFileId,isProfileImage:!0,oldProfileImageId:t.getActiveProfileImageId,token:t.getUserToken,onSuccessNotification:t.m("backend_notification_recordname_uploaded_sucessfully",{recordname_singular:t.m("recordname_profilePicture_singular")}),onSuccessNotificationParameter:{recordname_profilePicture_singular:""}})}}},deleteImage:function(){this.getActiveProfileImageId&&(this.fileUploadInitialize(),this.temporaryFileId=null,this.localFileContent="",this[u["c"]]({fileId:this.getActiveProfileImageId,token:this.getUserToken,onSuccessNotification:this.m("backend_notification_recordname_deleted_sucessfully",{recordname_singular:this.m("recordname_profilePicture_singular")}),onSuccessNotificationParameter:{recordname_profilePicture_singular:""}}))}},Object(l["b"])(["fileAddTemporaryFile","fileUploadInitialize"]),{},Object(s["b"])([u["f"],u["c"]]),{m:f["a"]}),computed:d({},Object(l["c"])(["getFileErrorlist","getUserToken","getFileProcessingStatusWithTemporaryFileId","getActiveProfileImageContent","getActiveProfileImageId"])),created:function(){this.fileUploadInitialize()},components:{"confirm-yes-no":p["a"],"error-row-card":c["a"]}},b=g,_=(r("72b5"),r("2877")),h=Object(_["a"])(b,i,o,!1,null,null,null);t["default"]=h.exports},"72b5":function(e,t,r){"use strict";var i=r("c27e"),o=r.n(i);o.a},c27e:function(e,t,r){},d671:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-dialog",{attrs:{persistent:""},on:{hide:function(t){return e.$emit("hide")}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("q-card",[r("q-card-section",{staticClass:"row items-center"},[r("q-avatar",{attrs:{icon:e.iconMessage,color:"primary","text-color":"white"}}),r("span",{staticClass:"q-ml-sm"},[e._v("\n        "+e._s(e.propConfirmMessage)+"\n      ")])],1),r("q-card-actions",{attrs:{align:"right"}},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.okButtonLabel,color:"negative"},on:{click:function(t){return e.$emit("confirmed")}}}),r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.cancelButtonLabel,color:"positive"}})],1)],1)],1)},o=[],a={props:{propShow:Boolean,propConfirmMessage:String,propIconMessage:String,propOkButtonLabel:String,propCancelButtonLabel:String},data:function(){return{okButtonLabel:this.propOkButtonLabel||this.$t("app_button_Yes"),cancelButtonLabel:this.propCancelButtonLabel||this.$t("app_button_No"),iconMessage:this.propIconMessage||"mdi-account-question-outline",show:this.propShow}}},n=a,l=r("2877"),s=Object(l["a"])(n,i,o,!1,null,null,null);t["a"]=s.exports}}]);