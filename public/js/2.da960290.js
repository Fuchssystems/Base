(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"363f":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.errorList.length?a("div",{staticClass:"row"},[a("q-card",{staticClass:"error-card q-mt-md bg-red-1",attrs:{flat:"",bordered:""}},[a("q-toolbar",{staticClass:"bg-red-1"},[a("q-icon",{attrs:{name:"error",size:"32px",color:"red"}}),a("q-toolbar-title",[e._v(e._s(e.$t("backend_error_header")))])],1),a("q-list",{attrs:{bordered:""}},e._l(e.errorList,(function(t){return a("q-item",{key:t,staticClass:"q-my-xs error-item"},[a("q-item-section",[a("q-item-label",[e._v(" "+e._s(t)+" ")])],1)],1)})),1)],1)],1):e._e()},i=[],s={props:{errorList:Array}},l=s,o=(a("4ffb"),a("2877")),n=a("f09f"),c=a("65c6"),d=a("0016"),u=a("6ac5"),f=a("1c1c"),g=a("66e5"),m=a("4074"),p=a("0170"),b=a("eebe"),h=a.n(b),S=Object(o["a"])(l,r,i,!1,null,null,null);t["a"]=S.exports;h()(S,"components",{QCard:n["a"],QToolbar:c["a"],QIcon:d["a"],QToolbarTitle:u["a"],QList:f["a"],QItem:g["a"],QItemSection:m["a"],QItemLabel:p["a"]})},"4ffb":function(e,t,a){"use strict";var r=a("af64"),i=a.n(r);i.a},"9e2f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},["administration"===e.getUserPreference("profileImagesTab")?a("div",{staticClass:"div-profile-images"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[a("input",{ref:"inputImageFilesSelection",style:{display:"none"},attrs:{id:"inputImageFilesSelection",type:"file",multiple:"",accept:"image/*"},on:{change:e.upload}}),a("div",{staticClass:"row q-mb-md items-start",staticStyle:{"margin-top":"30px"}},[a("q-btn",{staticClass:"col",staticStyle:{"max-width":"156px"},attrs:{color:"primary",icon:"cloud_upload",label:e.$t("profile_images_button_inputFiles")},on:{click:function(t){return e.$refs.inputImageFilesSelection.click()}}}),a("q-btn",{staticClass:"q-ml-md col",staticStyle:{"max-width":"120px"},attrs:{color:"secondary",icon:"mdi-check-all",label:e.$t("profile_images_button_selectAll"),disable:e.getNumberOfSelectedFiles===e.getProfileImages.length},on:{click:function(t){return e.fileSetSelectedAll(!0)}}}),a("q-btn",{staticClass:"q-ml-md col",staticStyle:{"max-width":"180px"},attrs:{color:"secondary",icon:"mdi-minus",label:e.$t("profile_images_button_deslectAll"),disable:!e.getNumberOfSelectedFiles},on:{click:function(t){return e.fileSetSelectedAll(!1)}}}),a("q-btn",{staticClass:"q-ml-md col",staticStyle:{"max-width":"160px"},attrs:{color:"warning",icon:"delete_forever",label:e.$t("app_button_Delete")+(e.getNumberOfSelectedFiles?" ("+e.getNumberOfSelectedFiles+")":""),disable:!e.getNumberOfSelectedFiles},on:{click:function(t){e.showConfirmDelete=!0}}})],1),a("error-row-card",{attrs:{errorList:e.getFileErrorlist}}),a("div",{staticClass:"row q-gutter-md items-start"},e._l(e.getProfileImages,(function(t,r){return a("q-img",{key:t.key,staticStyle:{"max-height":"180px","max-width":"180px"},attrs:{image:t,src:t.filecontent,"spinner-color":"white",draggable:""},on:{click:function(a){return e.onImageClicked({key:t.key,selected:t.selected})},dragstart:function(a){return e.dragStart(t.key,r,a)},dragover:function(e){e.preventDefault()},dragenter:function(a){return e.dragEnter(t.key,r,a)},dragleave:function(a){return e.dragLeave(t.key,r,a)},drop:function(a){return e.dragDrop(t.key,r,t.id,a)}}},[e.getFileProcessingStatusWithKey(t.key)?a("div",{staticClass:"absolute-full flex flex-center"},[a("q-spinner",{attrs:{color:"primary",size:"3em"}})],1):e._e(),e.getFileSelectedStatusWithKey(t.key)?a("div",{staticClass:"absolute-full flex flex-center"},[a("q-icon",{attrs:{name:"mdi-check-bold",size:"xl"}})],1):e._e()])})),1),e.getFilesAreLoading?a("q-skeleton",{attrs:{height:"120px"}}):e._e(),a("confirm-yes-no",{key:e.showConfirmDelete,attrs:{propShow:e.showConfirmDelete,propConfirmMessage:e.m("app_confirm_Really_delete_number_of_recordnames",{recordname:"Picture",count:e.getNumberOfSelectedFiles}),propIconMessage:"mdi-account-question-outline",propOkButtonLabel:e.$t("app_button_Delete")},on:{confirmed:e.deleteImages,hide:function(t){e.showConfirmDelete=!1}}})],1)]):e._e(),"carousel"===e.getUserPreference("profileImagesTab")?a("div",{staticClass:"div-carousel"},[a("div",{staticClass:"q-pa-md"},[a("q-carousel",{attrs:{swipeable:"",animated:"",arrows:"",value:e.getImageCarouselSlideKey,fullscreen:e.carouselFullscreen,infinite:""},on:{"update:fullscreen":function(t){e.carouselFullscreen=t},input:e.fileSetimageCarouselSlideKey},scopedSlots:e._u([{key:"control",fn:function(){return[a("q-carousel-control",{attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{push:"",round:"",dense:"",color:"white","text-color":"primary",icon:e.carouselFullscreen?"fullscreen_exit":"fullscreen"},on:{click:function(t){e.carouselFullscreen=!e.carouselFullscreen}}})],1)]},proxy:!0}],null,!1,3998774607)},e._l(e.getProfileImages,(function(e){return a("q-carousel-slide",{key:e.key,attrs:{image:e,name:e.key,"img-src":e.filecontent}})})),1)],1)]):e._e(),a("q-page-sticky",{attrs:{expand:"",position:"top"}},[a("div",{staticClass:"q-gutter-y-md",staticStyle:{width:"100%"}},[a("q-tabs",{staticClass:"bg-teal text-white shadow-2",attrs:{value:e.getUserPreference("profileImagesTab"),"no-caps":"","inline-label":"",align:"left",breakpoint:0},on:{input:e.onTabValueChange}},[a("q-tab",{attrs:{name:"administration",icon:"far fa-file-image",label:e.$t("profile_images_tab_admister")}}),a("q-tab",{attrs:{name:"carousel",icon:"far fa-image",label:e.$t("profile_images_tab_carousel"),disable:!e.getProfileImages.length}})],1)],1)])],1)},i=[],s=(a("07ac"),a("ded3")),l=a.n(s),o=a("2f62"),n=a("7429"),c=a("363f"),d=a("d671"),u=a("a40e"),f=a("b405"),g=a("82ab"),m={name:"Images",data(){return{carouselFullscreen:!1,showConfirmDelete:!1,dragStartImageKey:"",dragStartImageIndex:-1}},methods:l()(l()(l()({upload(e){if(e.target.files.length){this.fileUploadInitialize();const t=Object.values(e.target.files);t.forEach(e=>{e.temporaryFileId=`${e.name}${Date.now()}`,e.isProfileImage=!1;const t=new FileReader;t.readAsDataURL(e),t.onload=t=>{const a=e;a.temporaryFileId=e.temporaryFileId,a.nameWithExtension=e.name,a.filecontent=t.target.result,a.isProcessing=!0,a.isProfileImage=!1,this.fileAddTemporaryFile(a),this[u["f"]]({file:e,filecontent:t.target.result,profileId:this.$store.state.profile.activeProfile&&this.$store.state.profile.activeProfile.id,temporaryFileId:e.temporaryFileId,isProfileImage:!1,token:this.getUserToken,onSuccessNotification:this.m("backend_notification_recordname_uploaded_sucessfully",{recordname_singular:this.m("recordname_profilePicture_singular")}),onSuccessNotificationParameter:{recordname_profilePicture_singular:""}})}}),this.$refs.inputImageFilesSelection.value=null}},onTabValueChange(e){this.userPrefenceSet({key:"profileImagesTab",value:e}),this[f["h"]]({fields:{user:{preferences:this.getUserPreferenceObject}},token:this.getUserToken})},onImageClicked(e){this.fileSetSelected({key:e.key,selected:!e.selected})},deleteImages(){this.getSelectedFilesIds.length&&(this.fileUploadInitialize(),this[u["b"]]({arrayFileIds:this.getSelectedFilesIds,token:this.getUserToken,onSuccessNotificationId:"backend_notification_count_recordnames_deleted_sucessfully",onSuccessNotificationParameter:{recordname:"picture"}}),this.fileDeleteFileArrayIds(this.getSelectedFilesIds))},dragStart(e,t,a){a.dataTransfer.dropEffect="move",this.dragStartImageKey=e,this.dragStartImageIndex=t},dragEnter(e,t,a){e!==this.dragStartImageKey&&t!==this.dragStartImageIndex+1&&a.target.classList.add("drag-target")},dragLeave(e,t,a){e!==this.dragStartImageKey&&t!==this.dragStartImageIndex+1&&a.target.classList.remove("drag-target")},dragDrop(e,t,a,r){e!==this.dragStartImageKey&&t!==this.dragStartImageIndex+1&&(r.target.classList.remove("drag-target"),this.fileMoveArrayElements({fromKey:this.dragStartImageKey,toKey:e}),this[u["a"]]({fileId:this.dragStartImageKey,newSortValue:this.dragStartImageIndex<t?t-1:t,oldSortValue:this.dragStartImageIndex,token:this.getUserToken}))}},Object(n["b"])([u["f"],u["d"],f["h"],u["b"],u["a"]])),Object(o["b"])(["fileUploadInitialize","fileAddTemporaryFile","userPrefenceSet","fileSetimageCarouselSlideKey","fileSetSelected","fileSetSelectedAll","fileDeleteFileArrayIds","fileMoveArrayElements"])),{},{m:g["a"]}),computed:l()({},Object(o["c"])(["getFileErrorlist","getUserToken","getProfileImages","getActiveProfileImageId","getFileProcessingStatusWithKey","getUserPreference","getUserPreferenceObject","getImageCarouselSlideKey","getFileSelectedStatusWithKey","getNumberOfSelectedFiles","getSelectedFilesIds","getFilesAreLoading"])),created(){this.fileUploadInitialize();const e=this.$store.state.profile.activeProfile&&this.$store.state.profile.activeProfile.id;e&&this[u["d"]]({profileId:e,activeProfileImageId:this.getActiveProfileImageId,token:this.getUserToken})},components:{"confirm-yes-no":d["a"],"error-row-card":c["a"]}},p=m,b=(a("d989"),a("2877")),h=a("9989"),S=a("9c40"),I=a("068f"),y=a("0d59"),_=a("0016"),k=a("293e"),v=a("880c"),C=a("62cd"),q=a("32a7"),w=a("de5e"),F=a("429b"),x=a("7460"),P=a("4d5a"),Q=a("eebe"),L=a.n(Q),$=Object(b["a"])(p,r,i,!1,null,null,null);t["default"]=$.exports;L()($,"components",{QPage:h["a"],QBtn:S["a"],QImg:I["a"],QSpinner:y["a"],QIcon:_["a"],QSkeleton:k["a"],QCarousel:v["a"],QCarouselSlide:C["a"],QCarouselControl:q["a"],QPageSticky:w["a"],QTabs:F["a"],QTab:x["a"],QLayout:P["a"]})},af64:function(e,t,a){},d671:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{attrs:{persistent:""},on:{hide:function(t){return e.$emit("hide")}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:e.iconMessage,color:"primary","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[e._v("\n        "+e._s(e.propConfirmMessage)+"\n      ")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.okButtonLabel,color:"negative"},on:{click:function(t){return e.$emit("confirmed")}}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.cancelButtonLabel,color:"positive"}})],1)],1)],1)},i=[],s={props:{propShow:Boolean,propConfirmMessage:String,propIconMessage:String,propOkButtonLabel:String,propCancelButtonLabel:String},data(){return{okButtonLabel:this.propOkButtonLabel||this.$t("app_button_Yes"),cancelButtonLabel:this.propCancelButtonLabel||this.$t("app_button_No"),iconMessage:this.propIconMessage||"mdi-account-question-outline",show:this.propShow}}},l=s,o=a("2877"),n=a("24e8"),c=a("f09f"),d=a("a370"),u=a("cb32"),f=a("4b7e"),g=a("9c40"),m=a("7f67"),p=a("eebe"),b=a.n(p),h=Object(o["a"])(l,r,i,!1,null,null,null);t["a"]=h.exports;b()(h,"components",{QDialog:n["a"],QCard:c["a"],QCardSection:d["a"],QAvatar:u["a"],QCardActions:f["a"],QBtn:g["a"]}),b()(h,"directives",{ClosePopup:m["a"]})},d989:function(e,t,a){"use strict";var r=a("f7ac"),i=a.n(r);i.a},f7ac:function(e,t,a){}}]);