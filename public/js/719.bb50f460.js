(self["webpackChunkbase"]=self["webpackChunkbase"]||[]).push([[719],{9601:(s,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>j});r(71);var a=r(3673),t=r(8880),o=r(2323);const i=(0,a.HX)("data-v-7b9ab567");(0,a.dD)("data-v-7b9ab567");const l={class:"row q-mb-md"},u={class:"row q-mb-md"},m={class:"row q-my-xs row-submit"},n={key:0,class:"row"},d={class:"row q-mb-md"},p={class:"row q-mb-xs"},c={class:"row q-mb-md"},_={key:0,class:"row q-my-xs"},w={key:1,class:"row q-my-xs"},f={class:"row q-my-xs row-submit"};(0,a.Cn)();const b=i(((s,e,r,b,g,h)=>{const y=(0,a.up)("q-icon"),q=(0,a.up)("q-banner"),P=(0,a.up)("q-input"),W=(0,a.up)("q-space"),k=(0,a.up)("q-btn"),v=(0,a.up)("q-card-actions"),$=(0,a.up)("q-toolbar-title"),E=(0,a.up)("q-toolbar"),D=(0,a.up)("q-item-label"),C=(0,a.up)("q-item-section"),V=(0,a.up)("q-item"),Z=(0,a.up)("q-list"),Q=(0,a.up)("q-card"),U=(0,a.up)("user-pw-sequrity-question-select"),z=(0,a.up)("message-row-card"),I=(0,a.up)("error-row-card"),F=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(F,{padding:""},{default:i((()=>[(0,a.Wm)(Q,{class:"input-card"},{default:i((()=>[(0,a.Wm)("form",{onSubmit:e[2]||(e[2]=(0,t.iM)(((...s)=>h.submitFormEmail&&h.submitFormEmail(...s)),["prevent"]))},[(0,a.Wm)("div",l,[(0,a.Wm)(q,{class:"bg-grey-3 col"},{avatar:i((()=>[(0,a.Wm)(y,{name:"account_circle",color:"primary"})])),default:i((()=>[(0,a.Uk)(" "+(0,o.zw)(s.$t("user_credentials_group_email_title")),1)])),_:1})]),(0,a.Wm)("div",u,[(0,a.Wm)(P,{modelValue:g.formDataEmail.email,"onUpdate:modelValue":e[1]||(e[1]=s=>g.formDataEmail.email=s),onKeyup:h.onKeyupFormDataEmail,rules:[s=>!!s||h.m("app_error_fieldname_required",{field:"fieldName_user_email"}),e=>h.isValidEmailAddress(e)||s.$t("app_log_err_email_invalid")],ref:"email","lazy-rules":"",outlined:"",class:"col",label:s.$t("user_field_email_label"),"stack-label":""},{prepend:i((()=>[(0,a.Wm)(y,{name:"email"})])),_:1},8,["modelValue","onKeyup","rules","label"])]),(0,a.Wm)("div",m,[(0,a.Wm)(W),(0,a.Wm)(v,{align:"right"},{default:i((()=>[(0,a.Wm)(k,{color:"primary",label:s.$t("user_credentials_group_email_button_save"),type:"submit",disable:g.submitButtonEmailDisabled},null,8,["label","disable"])])),_:1})]),s.getErrorGroup("email").length?((0,a.wg)(),(0,a.j4)("div",n,[(0,a.Wm)(Q,{flat:"",bordered:"",class:"error-card q-mt-md bg-red-1"},{default:i((()=>[(0,a.Wm)(E,{class:"bg-red-1"},{default:i((()=>[(0,a.Wm)(y,{name:"error",size:"32px",color:"red"}),(0,a.Wm)($,null,{default:i((()=>[(0,a.Uk)((0,o.zw)(s.$t("backend_error_header")),1)])),_:1})])),_:1}),(0,a.Wm)(Z,{bordered:""},{default:i((()=>[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(s.getErrorGroup("email"),(s=>((0,a.wg)(),(0,a.j4)(V,{key:s,class:"q-my-xs error-item"},{default:i((()=>[(0,a.Wm)(C,null,{default:i((()=>[(0,a.Wm)(D,null,{default:i((()=>[(0,a.Uk)((0,o.zw)(s),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])):(0,a.ry)("",!0)],32)])),_:1}),(0,a.Wm)(Q,{class:"input-card"},{default:i((()=>[(0,a.Wm)("form",{onSubmit:e[11]||(e[11]=(0,t.iM)(((...s)=>h.submitFormPassword&&h.submitFormPassword(...s)),["prevent"]))},[(0,a.Wm)("div",d,[(0,a.Wm)(q,{class:"bg-grey-3 col"},{avatar:i((()=>[(0,a.Wm)(y,{name:"account_circle",color:"primary"})])),default:i((()=>[(0,a.Uk)(" "+(0,o.zw)(s.$t("user_credentials_group_password_title")),1)])),_:1})]),(0,a.Wm)("div",p,[(0,a.Wm)(P,{modelValue:g.formDataPassword.password,"onUpdate:modelValue":e[4]||(e[4]=s=>g.formDataPassword.password=s),onKeyup:e[5]||(e[5]=s=>h.onKeyupFormDataPassword("password")),rules:[e=>e.length>=6||s.$t("app_log_err_enter_minNumOfChars",{numOfChars:6})],ref:"password","lazy-rules":"",type:g.passwordVisible?"text":"password",outlined:"",class:"col",label:s.$t("app_log_label_Password"),"stack-label":""},{prepend:i((()=>[(0,a.Wm)(y,{name:"lock"})])),append:i((()=>[(0,a.Wm)(y,{name:g.passwordVisible?"visibility":"visibility_off",class:"cursor-pointer",onClick:e[3]||(e[3]=s=>g.passwordVisible=!g.passwordVisible)},null,8,["name"])])),_:1},8,["modelValue","rules","type","label"])]),(0,a.Wm)("div",c,[(0,a.Wm)(P,{modelValue:g.formDataPassword.confirmPassword,"onUpdate:modelValue":e[7]||(e[7]=s=>g.formDataPassword.confirmPassword=s),onKeyup:e[8]||(e[8]=s=>h.onKeyupFormDataPassword("confirmPassword")),rules:[e=>e.length>=6||s.$t("app_log_err_enter_minNumOfChars",{numOfChars:6}),h.isConfirmpasswordEqualPassword],ref:"confirmPassword","lazy-rules":"",type:g.passwordVisible?"text":"password",outlined:"",class:"col",label:s.$t("app_log_label_Confirm_Password"),"stack-label":""},{prepend:i((()=>[(0,a.Wm)(y,{name:"lock"})])),append:i((()=>[(0,a.Wm)(y,{name:g.passwordVisible?"visibility":"visibility_off",class:"cursor-pointer",onClick:e[6]||(e[6]=s=>g.passwordVisible=!g.passwordVisible)},null,8,["name"])])),_:1},8,["modelValue","rules","type","label"])]),g.settings.featureResetPassword?((0,a.wg)(),(0,a.j4)("div",_,[(0,a.Wm)(U,{onChange:h.onSecurityQuestionChange,ref:"securityQuestion"},null,8,["onChange"])])):(0,a.ry)("",!0),g.settings.featureResetPassword?((0,a.wg)(),(0,a.j4)("div",w,[(0,a.Wm)(P,{modelValue:g.formDataPassword.answer_security_question,"onUpdate:modelValue":e[9]||(e[9]=s=>g.formDataPassword.answer_security_question=s),onKeyup:e[10]||(e[10]=s=>h.onKeyupFormDataPassword("answer_security_question")),rules:[e=>e.length>=2||s.$t("app_log_err_enter_minNumOfChars",{numOfChars:2})],ref:"answer_security_question","lazy-rules":"",outlined:"",class:"col",label:s.$t("user_pw_reset_answersecurity_question_label"),"stack-label":""},{prepend:i((()=>[(0,a.Wm)(y,{name:"question_answer"})])),_:1},8,["modelValue","rules","label"])])):(0,a.ry)("",!0),(0,a.Wm)("div",f,[(0,a.Wm)(W),(0,a.Wm)(v,{align:"right"},{default:i((()=>[(0,a.Wm)(k,{color:"primary",label:s.$t("user_credentials_group_password_button_save"),type:"submit"},null,8,["label"])])),_:1})]),(0,a.Wm)(z,{messageList:s.getUserMessageList},null,8,["messageList"]),(0,a.Wm)(I,{errorList:s.getErrorGroup("password")},null,8,["errorList"])],32)])),_:1})])),_:1})}));var g=r(515),h=r.n(g),y=r(816),q=r(3976),P=r(9221),W=r(7874),k=r(7476),v=r(6630),$=r(6401),E=r(2920);const D={name:"UserEmailPassword",components:{"error-row-card":y.Z,"message-row-card":q.Z,"user-pw-sequrity-question-select":P.Z},data(){return{formDataEmail:{email:this.$store.state.user.user.email},submitButtonEmailDisabled:!0,formDataPassword:{password:"",confirmPassword:"",security_question_key:"",answer_security_question:""},passwordVisible:!1,settings:E.Z}},methods:h()(h()(h()({isValidEmailAddress(s){const e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(s).toLowerCase())},isConfirmpasswordEqualPassword(s){const e=!this.formDataPassword.password||s===this.formDataPassword.password;return!!e||this.$t("app_register_err_Passwords_do_not_match")},submitFormEmail(){this.userBackendCallInitialize({errorGroup:"email"}),this.$refs.email.validate(),this.$refs.email.hasError||this[v.eM]({fields:{user:this.formDataEmail},token:this.getUserToken,errorGroup:"email",onSuccessNotificationId:"user_credentials_group_email_notification_safe_successful"})},onSecurityQuestionChange(s){this.formDataPassword.security_question_key=s,this.onKeyupFormDataPassword("security_question_key")},submitFormPassword(){this.userBackendCallInitialize({errorGroup:"password"}),this.userResetMessageList(),this.$refs.password.validate(),this.$refs.confirmPassword.validate(),this.settings.featureResetPassword&&(this.$refs.securityQuestion.validate(),this.$refs.answer_security_question.validate());let s=this.$refs.password.hasError||this.$refs.confirmPassword.hasError;!s&&this.settings.featureResetPassword&&(s=this.$refs.securityQuestion.hasError||this.$refs.answer_security_question.hasError),s||this[v.eM]({fields:{user:this.formDataPassword},token:this.getUserToken,errorGroup:"password",onSuccessNotificationId:"user_credentials_group_password_notification_safe_successful"})}},(0,W.nv)(["userBackendCallInitialize","userResetMessageList","userSetMessage"])),(0,k.$R)([v.eM])),{},{onKeyupFormDataEmail(){this.getErrorGroup("email").length&&this.userBackendCallInitialize({errorGroup:"email"}),this.submitButtonEmailDisabled=!this.$refs.email.validate()||this.formDataEmail.email===this.getUser.email},onKeyupFormDataPassword(s){this.getErrorGroup("password").length&&this.userBackendCallInitialize({errorGroup:"password"}),"password"===s&&this.formDataPassword.confirmPassword&&this.$refs.confirmPassword.validate()},m:$.m}),computed:h()({},(0,W.Se)(["getErrorGroup","getUserMessageList","getUser","getUserPasswordIsTemporary","getUserToken"])),created(){this.userBackendCallInitialize()},mounted(){this.userResetMessageList(),this.getUserPasswordIsTemporary&&this.userSetMessage({messageTextArray:[this.$t("app_temporary_password_please_assign_own")]})}};var C=r(4379),V=r(151),Z=r(5607),Q=r(4554),U=r(4842),z=r(2025),I=r(9367),F=r(8240),K=r(9570),S=r(3747),G=r(7011),L=r(3414),M=r(2035),B=r(2350),x=r(5869),T=r(7518),R=r.n(T);D.render=b,D.__scopeId="data-v-7b9ab567";const j=D;R()(D,"components",{QPage:C.Z,QCard:V.Z,QBanner:Z.Z,QIcon:Q.Z,QInput:U.Z,QSpace:z.Z,QCardActions:I.Z,QBtn:F.Z,QToolbar:K.Z,QToolbarTitle:S.Z,QList:G.Z,QItem:L.Z,QItemSection:M.Z,QItemLabel:B.Z,QSeparator:x.Z})}}]);