(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"363f":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.errorList.length?a("div",{staticClass:"row"},[a("q-card",{staticClass:"error-card q-mt-md bg-red-1",attrs:{flat:"",bordered:""}},[a("q-toolbar",{staticClass:"bg-red-1"},[a("q-icon",{attrs:{name:"error",size:"32px",color:"red"}}),a("q-toolbar-title",[t._v(t._s(t.$t("backend_error_header")))])],1),a("q-list",{attrs:{bordered:""}},t._l(t.errorList,(function(e){return a("q-item",{key:e,staticClass:"q-my-xs error-item"},[a("q-item-section",[a("q-item-label",[t._v(" "+t._s(e)+" ")])],1)],1)})),1)],1)],1):t._e()},s=[],n={props:{errorList:Array}},o=n,i=(a("4ffb"),a("2877")),l=a("f09f"),c=a("65c6"),m=a("0016"),u=a("6ac5"),d=a("1c1c"),p=a("66e5"),b=a("4074"),f=a("0170"),y=a("eebe"),_=a.n(y),g=Object(i["a"])(o,r,s,!1,null,null,null);e["a"]=g.exports;_()(g,"components",{QCard:l["a"],QToolbar:c["a"],QIcon:m["a"],QToolbarTitle:u["a"],QList:d["a"],QItem:p["a"],QItemSection:b["a"],QItemLabel:f["a"]})},3771:function(t,e,a){"use strict";var r=a("c1d4"),s=a.n(r);s.a},"4ffb":function(t,e,a){"use strict";var r=a("af64"),s=a.n(r);s.a},6928:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("q-card",{staticClass:"input-card"},[a("form",[a("div",{staticClass:"row q-mb-md"},[a("q-banner",{staticClass:"bg-grey-3 col",scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"euro_symbol",color:"primary"}})]},proxy:!0}])},[t._v("\n          "+t._s(t.$t("payments_paypal_title"))+"\n        ")])],1),a("div",{staticClass:"row"},[a("q-input",{ref:"amount",staticClass:"col",staticStyle:{"max-width":"200px"},attrs:{rules:[function(e){return t.validateAmount(e)||t.$t("app_std_err_enter_amount_between",{min:t.formatAmount(.01),max:1e5})}],"lazy-rules":"",outlined:"",label:t.$t("payments_paypal_field_amount_label"),"stack-label":"","input-style":"text-align: left",prefix:"â‚¬"},on:{keyup:function(e){return t.onKeyupFormData("amount")},blur:t.onBlurAmount},model:{value:t.formDataPayment.amount,callback:function(e){t.$set(t.formDataPayment,"amount",e)},expression:"formDataPayment.amount"}})],1),a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-6 text-subtitle2"},[a("div",[t._v("Paypal sandbox email: test@fuchs.computer"),a("br"),t._v("Password: 12345678")])])]),a("div",{staticClass:"row q-mb-md justify-between"},[a("div",{ref:"paypalButton",staticClass:"col-4"})]),t.getPaymentMessageList.length?a("div",{staticClass:"row"},[a("q-card",{staticClass:"message-card q-mt-md bg-green-1",attrs:{flat:"",bordered:""}},[a("q-toolbar",{staticClass:"bg-green-1"},[a("q-icon",{attrs:{name:"message",size:"32px",color:"green"}}),a("q-toolbar-title",[t._v(t._s(t.$t("backend_message_header")))])],1),a("q-list",{attrs:{bordered:""}},t._l(t.getPaymentMessageList,(function(e){return a("q-item",{key:e,staticClass:"q-my-xs message-item"},[a("q-item-section",[a("q-item-label",[t._v(" "+t._s(e)+" ")])],1)],1)})),1)],1)],1):t._e(),a("error-row-card",{attrs:{errorList:t.getPaymentErrorList}})],1)])],1)},s=[],n=a("ded3"),o=a.n(n),i=a("2f62"),l=a("363f"),c=a("7429"),m=a("82ab"),u=(a("c975"),a("5319"),a("8847"));const d=(t,e)=>{let a=0;for(let r=0;r<t.length;r+=1)t[r]===e&&(a+=1);return a},p=function(t){let e=0;if(t&&"number"!==typeof t){const a=u["c"].t("app_locale_thousandsSeperator"),r=u["c"].t("app_locale_decimalPoint");1===d(t,a)&&-1===t.indexOf(r)&&(t=t.replace(a,r)),e=parseFloat(t.replace(a,"").replace(r,"."))}return Number.isNaN(e)&&(e=0),e};var b=a("210f"),f={name:"Payments",components:{"error-row-card":l["a"]},data(){return{formDataPayment:{amount:this.formatAmount(this.$store.state.payment.amount)}}},mounted(){const t=document.createElement("script");t.async=!0,t.addEventListener("load",this.onPayPalLoaded),t.setAttribute("src","https://www.paypal.com/sdk/js?client-id=Ac1YkChXM-U7aX4JCG56VbM0I2Vg3PUIjN4qmq9_dJJ7q_ahZ9Iux1TqIUwL_cxnRCW-qx0QajvCj01A&currency=EUR&locale="+Object(m["a"])("app_locale_payPal")),document.head.appendChild(t)},methods:o()(o()({formatAmount(t){return new Intl.NumberFormat(Object(m["a"])("app_locale_browser"),{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},onBlurAmount(t){this.formDataPayment.amount=this.formatAmount(p(t.target.value))},paypalCallbackTransactionCompleted(t){this[b["a"]]({details:t,token:this.getUserToken}),this.formDataPayment.amount=null,this.$refs.amount.resetValidation(),this.paymentSetmessage([Object(m["a"])("payments_paypal_message_transaction_success",{amountLocalized:t.purchase_units[0].amount.value,senderName:t.payer.name.given_name})])},onPayPalLoaded(){const t=window.paypal.Buttons.bind(this);t({onInit:(t,e)=>{e.disable(),this.$refs.amount.$el.addEventListener("keyup",()=>{this.$refs.amount.validate()?e.enable():e.disable()})},createOrder:(t,e)=>e.order.create({purchase_units:[{amount:{value:p(this.$refs.amount.value)}}]}),onApprove:(t,e)=>e.order.capture().then(t=>this.paypalCallbackTransactionCompleted(t))}).render(this.$refs.paypalButton)},validateAmount(t){let e=!1;if(t){const a=p(t);e=a>=.01&&a<=1e6}return e},onKeyupFormData(t){(this.getPaymentMessageList.length||this.getPaymentErrorList.length)&&this.resetPaymentMessageErrorLists(),t&&"amount"===t&&this.$refs.amount.validate()}},Object(i["b"])(["paymentSetmessage","resetPaymentMessageErrorLists"])),Object(c["b"])([b["a"]])),computed:o()({},Object(i["c"])(["getPaymentMessageList","getPaymentErrorList","getUserToken"]))},y=f,_=(a("3771"),a("2877")),g=a("9989"),h=a("f09f"),v=a("54e1"),q=a("0016"),C=a("27f9"),w=a("65c6"),P=a("6ac5"),L=a("1c1c"),Q=a("66e5"),x=a("4074"),k=a("0170"),$=a("eb85"),I=a("eebe"),j=a.n(I),A=Object(_["a"])(y,r,s,!1,null,"50d9b4d7",null);e["default"]=A.exports;j()(A,"components",{QPage:g["a"],QCard:h["a"],QBanner:v["a"],QIcon:q["a"],QInput:C["a"],QToolbar:w["a"],QToolbarTitle:P["a"],QList:L["a"],QItem:Q["a"],QItemSection:x["a"],QItemLabel:k["a"],QSeparator:$["a"]})},af64:function(t,e,a){},c1d4:function(t,e,a){}}]);