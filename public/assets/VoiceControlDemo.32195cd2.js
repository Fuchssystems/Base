import{c as le,d as Y,e as D,x as J,f as de,r as c,ca as we,F as Se,be as xe,a0 as Q,av as ze,ch as Ve,ci as De,cj as a,w as ke,V as ae,W as se,X as w,ck as Te,ab as I,Z as S,aj as U,cl as v,Y as f,bv as B,ai as ie,aW as ue,cm as qe,cn as $e,a4 as re}from"./index.d82235c1.js";import{Q as Re}from"./QSpace.fd2b669d.js";import{Q as Ue}from"./QMenu.0903050d.js";import{Q as Be}from"./QTable.2c4419a7.js";import{Q as Qe}from"./QPage.785deebc.js";import{C as Fe}from"./ConfirmYesNo.e6b11e17.js";import"./selection.8f2d797e.js";import"./QList.1db696b4.js";import"./QSelect.a8e6501d.js";import"./QChip.497aab07.js";import"./QItemLabel.2616e595.js";import"./rtl.4b414a6d.js";import"./use-fullscreen.f843078f.js";import"./ClosePopup.48686298.js";function E(l,i=new WeakMap){if(Object(l)!==l)return l;if(i.has(l))return i.get(l);const s=l instanceof Date?new Date(l):l instanceof RegExp?new RegExp(l.source,l.flags):l instanceof Set?new Set:l instanceof Map?new Map:typeof l.constructor!="function"?Object.create(null):l.prototype!==void 0&&typeof l.prototype.constructor=="function"?l:new l.constructor;if(typeof l.constructor=="function"&&typeof l.valueOf=="function"){const t=l.valueOf();if(Object(t)!==t){const g=new l.constructor(t);return i.set(l,g),g}}return i.set(l,s),l instanceof Set?l.forEach(t=>{s.add(E(t,i))}):l instanceof Map&&l.forEach((t,g)=>{s.set(g,E(t,i))}),Object.assign(s,...Object.keys(l).map(t=>({[t]:E(l[t],i)})))}function Me(l){const i=document.createElement("textarea");i.value=l,i.contentEditable="true",i.style.position="fixed",document.body.appendChild(i),i.focus(),i.select();const s=document.execCommand("copy");return i.remove(),s}function Oe(l){return navigator.clipboard!==void 0?navigator.clipboard.writeText(l):new Promise((i,s)=>{const t=Me(l);t?i(!0):s(t)})}var G=le({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(l,{slots:i}){const s=de(),t=Y(()=>"q-td"+(l.autoWidth===!0?" q-table--col-auto-width":"")+(l.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(l.props===void 0)return D("td",{class:t.value},J(i.default));const g=s.vnode.key,p=(l.props.colsMap!==void 0?l.props.colsMap[g]:null)||l.props.col;if(p===void 0)return;const{row:m}=l.props;return D("td",{class:t.value+p.__tdClass(m),style:p.__tdStyle(m)},J(i.default))}}}),je=le({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","before-show","show","before-hide","hide"],setup(l,{slots:i,emit:s}){const{proxy:t}=de(),{$q:g}=t,p=c(null),m=c(""),r=c("");let T=!1;const F=Y(()=>{const b={initialValue:m.value,validate:l.validate,set:d,cancel:x,updatePosition:q};return we(b,"value",()=>r.value,N=>{r.value=N}),b});function d(){l.validate(r.value)!==!1&&(V()===!0&&(s("save",r.value,m.value),s("update:modelValue",r.value)),M())}function x(){V()===!0&&s("cancel",r.value,m.value),M()}function q(){Se(()=>{p.value.updatePosition()})}function V(){return xe(r.value,m.value)===!1}function M(){T=!0,p.value.hide()}function $(){T=!1,m.value=E(l.modelValue),r.value=E(l.modelValue),s("before-show")}function K(){s("show")}function R(){T===!1&&V()===!0&&(l.autoSave===!0&&l.validate(r.value)===!0?(s("save",r.value,m.value),s("update:modelValue",r.value)):s("cancel",r.value,m.value)),s("before-hide")}function O(){s("hide")}Object.assign(t,{set:d,cancel:x,show(b){p.value!==null&&p.value.show(b)},hide(b){p.value!==null&&p.value.hide(b)},updatePosition:q});function H(){const b=i.default!==void 0?[].concat(i.default(F.value)):[];return l.title&&b.unshift(D("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},l.title)),l.buttons===!0&&b.push(D("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[D(Q,{flat:!0,color:l.color,label:l.labelCancel||g.lang.label.cancel,onClick:x}),D(Q,{flat:!0,color:l.color,label:l.labelSet||g.lang.label.set,onClick:d})])),b}return()=>{if(l.disable!==!0)return D(Ue,{ref:p,class:"q-popup-edit",cover:l.cover,onBeforeShow:$,onShow:K,onBeforeHide:R,onHide:O,onEscapeKey:x},H)}}}),Ie=le({name:"QTr",props:{props:Object,noHover:Boolean},setup(l,{slots:i}){const s=Y(()=>"q-tr"+(l.props===void 0||l.props.header===!0?"":" "+l.props.__trClass)+(l.noHover===!0?" q-tr--no-hover":""));return()=>D("tr",{class:s.value},J(i.default))}});const ve=ze.has.webStorage===!1?Ve():De("local"),ee={install({$q:l}){l.localStorage=ve}};Object.assign(ee,ve);var ce=[...new Set(["135/70/13","135/80/13","145/70/13","145/80/13","155/65/13","155/70/13","155/80/13","165/65/13","165/70/13","165/80/13","175/60/13","175/65/13","175/70/13","185/60/13","145/80/14","155/65/14","165/55/14","165/60/14","165/65/14","165/70/14","165/80/14","175/60/14","175/65/14","175/65/14 C","175/70/14","175/80/14","185/55/14","185/60/14","185/65/14","185/70/14","185/80/14","195/60/14","195/65/14","195/70/14","195/80/14","165/65/15","175/55/15","175/60/15","175/65/15","185/55/15","185/60/15","185/65/15","195/45/15","195/50/15","195/55/15","195/60/15","195/65/15","195/70/15","195/70/15 C","195/80/15","205/50/15","205/55/15","205/60/15","205/65/15","215/60/15","215/65/15","215/70/15 C","215/75/15 C","215/75/15","225/70/15 C","225/75/15 C","235/70/15 C","245/60/15","255/60/15","255/70/15","265/50/15","175/60/16","175/60/16","185/50/16","185/55/16","185/60/16","185/70/16","185/70/16","195/45/16","195/50/16","195/55/16","195/60/16","195/60/16 C","195/65/16","195/65/16 C","205/40/16","205/45/16","205/50/16","205/55/16","205/60/16","205/60/16 C","205/65/16","205/65/16 C","205/70/16","205/80/16","215/40/16","215/45/16","215/50/16","215/55/16","215/60/16","215/65/16","215/65/16 C","215/70/16","225/40/16","225/45/16","225/50/16","225/55/16","225/60/16","225/60/16 C","225/65/16","225/65/16 C","225/70/16","235/55/16","235/60/16 C","235/65/16 C","235/70/16","245/70/16","245/70/16","255/65/16","255/70/16","265/70/16","195/40/17","195/45/17","205/40/17","205/45/17","205/50/17","205/55/17","215/40/17","215/45/17","215/50/17","215/55/17","215/60/17","215/60/17 C","215/65/17","215/65/17 C","225/45/17","225/50/17","225/55/17","225/60/17","225/65/17","235/40/17","235/45/17","235/50/17","235/55/17","235/60/17","235/65/17","245/40/17","245/45/17","245/50/17","245/55/17","245/60/17","245/65/17","245/70/17","255/40/17","255/45/17","255/55/17","255/60/17","255/65/17","265/65/17","205/40/18","205/45/18","215/35/18","215/55/18","225/35/18","225/40/18","225/45/18","225/50/18","225/55/18","225/60/18","225/60/18","235/35/18","235/40/18","235/45/18","235/50/18","235/55/18","235/60/18","235/65/18","245/35/18","245/40/18","245/45/18","245/50/18","255/40/18","255/45/18","255/55/18","265/35/18","265/60/18","275/35/18","275/40/18","285/50/18","215/35/19","225/35/19","225/40/19","225/45/19","235/35/19","235/40/19","235/45/19","235/50/19","235/55/19","245/30/19","245/35/19","245/40/19","245/45/19","255/30/19","255/35/19","255/40/19","255/45/19","255/50/19","255/55/19","265/30/19","265/35/19","275/40/19","275/45/19","285/45/19","225/35/20","235/30/20","235/35/20","245/30/20","245/35/20","245/40/20","245/45/20","255/35/20","255/45/20","255/50/20","265/45/20","275/35/20","275/40/20","275/45/20","275/55/20","295/40/20","295/35/21","265/35/22","305/40/22"])];const Ee={class:"row items-start q-mb-sm",style:{"margin-top":"-6px"}},He={class:"col q-ml-lg q-mt-md text-subtitle2"},Ne={class:"row items-start",style:{"margin-top":"-8px","margin-bottom":"0px"}},Pe={class:"column"},Ae={class:"q-table__title"},We={class:"q-ml-xs text-subtitle2"},Le={class:"column"},Ye={name:"VoiceControlDemo"},rl=Object.assign(Ye,{setup(l){const i=Te(),s=Y(()=>i.getters.getUserLanguageBCP47format);let t=[];const g=ee.getItem("voiceRecognitionDemo");if(g&&g.allSizesTableRows)t=g.allSizesTableRows;else for(let o=0;o<ce.length;o+=1)t.push({label:ce[o],yes:!1,counted:0});const p=c("all"),m=c(!0),r=c(!0),T=c("all"),F=c(!0),d=c([]),x=c([]),q=c(null),V=c(!1);function M(){d.value=[];let o=!1;for(let e=0;e<t.length;e+=1)o=!0,p.value==="yes"?o=t[e].yes:p.value==="no"&&(o=!t[e].yes),o&&T.value!=="all"&&(o=!!t[e].counted),o&&d.value.push(t[e]);x.value=[];for(let e=0;e<d.value.length;e+=1)d.value[e].yes&&x.value.push(d.value[e])}M();const $=c([]);$.value=[{name:"size",label:a("voiceControlDemo_tableSizes_col_sizes_title"),align:"left",field:o=>o.label,style:"max-width: 70px",headerStyle:"max-width: 70px"},{name:"counted",label:a("voiceControlDemo_tableSizes_col_counted_title"),align:"right",field:o=>o.counted}];function K(){V.value=!V.value,q.value.toggleFullscreen()}const R=c(!1),O=c("");function H(o){return R.value=!1,O.value="",o&&(o<0||o>1e4)&&(R.value=!0,O.value=I("app_std_err_enter_number_in_range",{min:0,max:1e4})),!R.value}const b=c("");function N(){var o=0,e=0,n=0;for(let u=0,C=0;u<t.length;u+=1)C=t[u].counted,C>0&&(t[u].yes?o+=C:e+=C),n+=C;b.value=I("voiceControlDemo_text_summaryCounted",{yes:o,no:e,total:n})}N();function y(){let o=-1;for(let e=0;e<d.value.length;e+=1)o=t.findIndex(n=>n.label===d.value[e]),o!==-1&&(t[o].yes=d.value[e]);M(),N(),ee.set("voiceRecognitionDemo",{allSizesTableRows:t})}function fe(o){H(o),y()}function oe(o){!m.value&&!r.value&&(o==="yes"?r.value=!0:m.value=!0),m.value&&!r.value?p.value="yes":!m.value&&r.value?p.value="no":(p.value="all",m.value=!0,r.value=!0),y()}function me(){T.value=F.value?"all":"counted",y()}function pe(o){const e=d.value.findIndex(n=>n.label===o);e!==-1&&(d.value[e].yes=!d.value[e].yes,y())}function _e(o){d.value.forEach(e=>{e.yes=o}),y()}const be=window.SpeechRecognition||window.webkitSpeechRecognition,h=new be;console.log("getUserLanguageBCP47format.value"),console.log(s.value),h.language=s.value;const ge=window.speechSynthesis,X=(o,e)=>{const n=e&&e.stopAfterSpeak||!1,u=new SpeechSynthesisUtterance(o);u.lang=s.value,n||(u.onend=()=>{h.start()}),h.stop(),ge.speak(u)},k=c(""),Z=c(""),P=c(!1);function te(){P.value=!P.value,P.value?h.start():h.stop()}function ne(){if(k.value){const o=d.value.findIndex(e=>e.label===k.value);o!==-1&&(d.value[o].counted-=1,y(),X(a("voiceControlDemo_confirmation_storno",{size:k.value})),k.value="")}}function Ce(){t.forEach(o=>{o.counted=0}),y(),re.create(a("voiceControlDemo_notification_counters_reset"))}h.onstart=()=>{h.continuous=!0},h.onend=()=>{},h.onresult=o=>{if(o.results.length){const e=o.results[o.results.length-1];if(e.isFinal){let{transcript:n}=e[0];n=n.replace("/"," "),Z.value=n;const u=n.split(" "),{length:C}=u;if(C)if(u[0]===a("voiceControlDemo_command_stop"))te(),k.value="",X(a("voiceControlDemo_confirmation_stop"),{stopAfterSpeak:!0});else if(u[0]===a("voiceControlDemo_command_storno"))ne();else{let z=C>=3||C<=4;const _={};z&&(_.width=parseInt(u[0],10),_.series=parseInt(u[1],10),_.inch=parseInt(u[2],10),_.c=!1,z=_.width>=125&&_.width<=335&&_.series>=35&&_.series<=80&&_.series%5===0&&_.inch>=12&&_.inch<=22),z&&C===4&&(u[3]==="C"?_.c=!0:z=!1);let W="",j=-1;z&&(W=`${_.width}/${_.series}/${_.inch}`,_.c&&(W+=" C"),j=t.findIndex(he=>he.label===W),j!==-1?(t[j].counted+=1,y()):z=!1);let L="";z?t[j].yes?L=`${a("voiceControlDemo_speak_yes_for_size")} ${n}`:L=`${a("voiceControlDemo_speak_no_for_size")} ${n}`:L=`${a("voiceControlDemo_speak_size_does_not_exist")} ${n}`,X(L),z&&(q.value.scrollTo(j-1),y()),k.value=z?W:""}}}};function ye(){let o=`${a("voiceControlDemo_clipboardHeader_all_sizes")}
`;for(let e=0;e<t.length;e+=1)o+=`${t[e].label}
`;o+=`${a("voiceControlDemo_clipboardHeader_all_yes_sizes")}
`;for(let e=0;e<t.length;e+=1)t[e].yes&&(o+=`${t[e].label}
`);o+=`${a("voiceControlDemo_clipboardHeader_sizes_yes")}
`;for(let e=0;e<t.length;e+=1)t[e].yes&&t[e].counted&&(o+=`${t[e].label}	${t[e].counted}
`);o+=`
${a("voiceControlDemo_clipboardHeader_sizes_no")}
`;for(let e=0;e<t.length;e+=1)!t[e].yes&&t[e].counted&&(o+=`${t[e].label}	${t[e].counted}
`);Oe(o).then(()=>{re.create(a("voiceControlDemo_notification_list_copied_to_clipboard"))})}const A=c(!1);return ke(s,o=>{h.language=o,console.log("newValue"),console.log(o),y(),$.value[0].label=a("voiceControlDemo_tableSizes_col_sizes_title"),$.value[1].label=a("voiceControlDemo_tableSizes_col_counted_title")}),(o,e)=>(ae(),se(Qe,null,{default:w(()=>[S("form",null,[S("div",Ee,[S("div",He,[S("div",null,U(v(a)("voiceControlDemo_helpText_tireSizes")),1),S("div",null,U(v(a)("voiceControlDemo_helpText_Commands")),1)])]),S("div",Ne,[S("div",Pe,[f(B,{size:"xl","model-value":P.value,"onUpdate:modelValue":te,label:v(a)("voiceControlDemo_recognition_toggle_label"),color:"secondery","checked-icon":"mdi-text-to-speech","unchecked-icon":"mdi-text-to-speech-off"},null,8,["model-value","label"]),f(Be,{style:{"max-width":"240px"},class:$e(["q-ml-md q-mb-xs sticky-header-table",{displayedSizesTableIsFullscreen:V.value,displayedSizesTableIsNotFullscreen:!V.value}]),title:v(a)("voiceControlDemo_tableSizes_title"),dense:"","no-data-label":b.value,rows:d.value,columns:$.value,"row-key":"label",selection:"multiple",selected:x.value,"onUpdate:selected":e[0]||(e[0]=n=>x.value=n),"rows-per-page-options":[0],ref_key:"displayedSizesTableRef",ref:q},{top:w(n=>[S("div",Ae,U(v(a)("voiceControlDemo_tableSizes_title")),1),f(Re),f(Q,{flat:"",round:"",dense:"",icon:n.inFullscreen?"fullscreen_exit":"fullscreen",onClick:K,class:"q-ml-md"},null,8,["icon"])]),"header-selection":w(n=>[f(B,{modelValue:n.selected,"onUpdate:modelValue":[u=>n.selected=u,_e]},null,8,["modelValue","onUpdate:modelValue"])]),body:w(n=>[f(Ie,{props:n},{default:w(()=>[f(G,null,{default:w(()=>[f(B,{modelValue:n.selected,"onUpdate:modelValue":[u=>n.selected=u,u=>pe(n.row.label)]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),f(G,{key:"size",props:n},{default:w(()=>[ie(U(n.row.label),1)]),_:2},1032,["props"]),f(G,{key:"counted",props:n},{default:w(()=>[ie(U(n.row.counted)+" ",1),f(je,{modelValue:n.row.counted,"onUpdate:modelValue":u=>n.row.counted=u,modelModifiers:{number:!0},title:v(I)("app_std_update_fieldname",{fieldname:v(a)("voiceControlDemo_fieldname_sizes_counted")}),buttons:"","auto-save":"","label-set":v(a)("app_button_Update"),"label-cancel":v(a)("app_button_Cancel"),validate:H,onHide:fe},{default:w(u=>[f(ue,{type:"number",modelValue:u.value,"onUpdate:modelValue":C=>u.value=C,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:qe(u.set,["enter"]),hint:v(I)("app_std_hint_enter_number_in_range",{min:0,max:1e4}),error:R.value,"error-message":O.value},null,8,["modelValue","onUpdate:modelValue","onKeyup","hint","error","error-message"])]),_:2},1032,["modelValue","onUpdate:modelValue","title","label-set","label-cancel"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),bottom:w(()=>[S("div",We,U(b.value),1)]),_:1},8,["class","title","no-data-label","rows","columns","selected"])]),S("div",Le,[f(ue,{class:"q-ml-md",style:{"max-width":"140px"},outlined:"",readonly:"",modelValue:Z.value,"onUpdate:modelValue":e[1]||(e[1]=n=>Z.value=n),label:v(a)("voiceControlDemo_lastRecognizedText_label")},null,8,["modelValue","label"]),f(Q,{class:"q-ml-md q-mt-sm col",style:{"max-width":"140px"},color:"secondary",icon:"mdi-undo",label:v(a)("app_button_Storno"),disable:!k.value,onClick:ne},null,8,["label","disable"]),f(B,{class:"q-mt-lg",modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=n=>m.value=n),onClick:e[3]||(e[3]=n=>oe("yes")),label:v(a)("voiceControlDemo_toggle_filter_sizes_yes"),icon:"",color:"primary"},null,8,["modelValue","label"]),f(B,{modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=n=>r.value=n),onClick:e[5]||(e[5]=n=>oe("no")),label:v(a)("voiceControlDemo_toggle_filter_sizes_no"),icon:"",color:"primary"},null,8,["modelValue","label"]),f(B,{modelValue:F.value,"onUpdate:modelValue":e[6]||(e[6]=n=>F.value=n),onClick:e[7]||(e[7]=n=>me()),label:v(a)("voiceControlDemo_toggle_filter_withUnCounted"),icon:"",color:"primary"},null,8,["modelValue","label"]),f(Q,{class:"q-ml-md q-mt-lg",style:{width:"140px"},label:v(a)("voiceControlDemo_button_resetCounter"),color:"warning",icon:"clear_all",onClick:e[8]||(e[8]=n=>A.value=!0)},null,8,["label"]),f(Q,{class:"q-ml-md q-mt-md",style:{width:"140px"},label:v(a)("app_button_Clipboard"),color:"brown-2",icon:"assignment",onClick:ye},null,8,["label"])])]),(ae(),se(Fe,{propShow:A.value,propConfirmMessage:v(I)("voiceControlDemo_question_really_reset_counters"),propIconMessage:"mdi-account-question-outline",propOkButtonLabel:v(a)("app_button_Reset"),onConfirmed:Ce,onHide:e[9]||(e[9]=n=>A.value=!1),key:A.value},null,8,["propShow","propConfirmMessage","propOkButtonLabel"]))])]),_:1}))}});export{rl as default};
