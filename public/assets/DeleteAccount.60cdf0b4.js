import{_ as Q,bn as _,P as k,R as v,S as D,V as n,W as f,X as t,Y as e,Z as l,y as i,ai as c,aj as u,aW as y,bm as b,a0 as m,al as g,aR as p,an as C,am as V,ak as h,bk as B,aS as S,bo as I,t as w,aX as E}from"./index.bf56c37c.js";import{Q as P}from"./QBanner.e0798eec.js";import{Q as G}from"./QSpace.1a43b779.js";import{Q as T,a as q}from"./QToolbar.724cb3f3.js";import{Q as z,b as U,a as N}from"./QItemLabel.7710578a.js";import{Q as L}from"./QList.a60f2ba5.js";import{Q as R}from"./QPage.87d29655.js";import{C as A}from"./ClosePopup.f27798a3.js";const F={data(){return{formDataPassword:{password:""},passwordVisible:!1,confirm:!1,submitButtonDeleteAccount:!0}},name:"DeleteAccount",methods:{submitDeleteAccount(){this.userBackendCallInitialize({errorGroup:"deleteAccount"}),this[_]({token:this.getUserToken,password:this.formDataPassword.password,errorGroup:"deleteAccount",onSuccessNotificationId:"user_account_group_deleteAccount_notification_deletion_successful"})},...k(["userBackendCallInitialize"]),...v([_]),onKeyupFormData(s){s&&s==="password"&&this.userBackendCallInitialize({errorGroup:"deleteAccount"}),this.submitButtonDeleteAccount=!this.$refs.password.validate()}},computed:{...D(["getErrorGroup","getUserToken"])},created(){this.userBackendCallInitialize()}},K={class:"row q-mb-md"},$={class:"row q-mb-md"},O={class:"row q-mb-md"},W={key:0,class:"row"},X={class:"q-ml-sm"};function j(s,o,M,Y,r,d){return n(),f(R,{padding:""},{default:t(()=>[e(p,{class:"input-card"},{default:t(()=>[l("form",{onSubmit:o[5]||(o[5]=E((...a)=>d.submitDeleteAccount&&d.submitDeleteAccount(...a),["prevent"]))},[l("div",K,[e(P,{class:"bg-grey-3 col"},{avatar:t(()=>[e(i,{name:"fas fa-user-minus",color:"primary"})]),default:t(()=>[c(" "+u(s.$t("user_account_group_deleteAccount_title")),1)]),_:1})]),l("div",$,[e(y,{modelValue:r.formDataPassword.password,"onUpdate:modelValue":o[1]||(o[1]=a=>r.formDataPassword.password=a),onKeyup:o[2]||(o[2]=a=>d.onKeyupFormData("password")),rules:[a=>a.length>=6||s.$t("app_log_err_enter_minNumOfChars",{numOfChars:6})],ref:"password","lazy-rules":"",type:r.passwordVisible?"text":"password",outlined:"",class:"col",label:s.$t("app_log_label_Password"),"stack-label":""},{prepend:t(()=>[e(i,{name:"lock"})]),append:t(()=>[e(i,{name:r.passwordVisible?"visibility":"visibility_off",class:"cursor-pointer",onClick:o[0]||(o[0]=a=>r.passwordVisible=!r.passwordVisible)},null,8,["name"])]),_:1},8,["modelValue","rules","type","label"])]),l("div",O,[e(G),e(b,{align:"right"},{default:t(()=>[e(m,{onClick:o[3]||(o[3]=a=>r.confirm=!0),color:"primary",label:s.$t("user_account_group_deleteAccount_button_delete"),disable:r.submitButtonDeleteAccount},null,8,["label","disable"])]),_:1})]),s.getErrorGroup("deleteAccount").length?(n(),g("div",W,[e(p,{flat:"",bordered:"",class:"error-card q-mt-md bg-red-1"},{default:t(()=>[e(T,{class:"bg-red-1"},{default:t(()=>[e(i,{name:"error",size:"32px",color:"red"}),e(q,null,{default:t(()=>[c(u(s.$t("backend_error_header")),1)]),_:1})]),_:1}),e(L,{bordered:""},{default:t(()=>[(n(!0),g(C,null,V(s.getErrorGroup("deleteAccount"),a=>(n(),f(z,{key:a,class:"q-my-xs error-item"},{default:t(()=>[e(U,null,{default:t(()=>[e(N,null,{default:t(()=>[c(u(a),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])):h("",!0),e(B,{modelValue:r.confirm,"onUpdate:modelValue":o[4]||(o[4]=a=>r.confirm=a),persistent:""},{default:t(()=>[e(p,null,{default:t(()=>[e(S,{class:"row items-center"},{default:t(()=>[e(I,{icon:"fas fa-user-minus",color:"primary","text-color":"white"}),l("span",X,u(s.$t("user_account_group_deleteAccount_confirm_messageText")),1)]),_:1}),e(b,{align:"right"},{default:t(()=>[w(e(m,{flat:"",label:s.$t("user_account_group_deleteAccount_button_delete"),color:"negative",onClick:this.submitDeleteAccount},null,8,["label","onClick"]),[[A]]),w(e(m,{flat:"",label:s.$t("app_button_Cancel"),color:"positive"},null,8,["label"]),[[A]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],32)]),_:1})]),_:1})}var oe=Q(F,[["render",j]]);export{oe as default};
