import{c as Y,r as T,d as s,w as S,o as ce,h as ht,e as h,f as ae,i as Se,l as de,T as mt,s as _t,u as ze,j as Me,k as He,m as We,n as Fe,p as Ge,q as bt,Q as Ie,t as je,v as yt,x as Ce,y as ee,z as wt,A as St,B as Ct,C as le,D as Lt,F as ke,G as xe,H as pt,I as Ke,J as It,K as kt,L as _e,M as oe,N as xt,O as Tt,P as Ye,R as Xe,S as Je,U as Te,_ as Ze,V as P,W as R,X as _,Y as b,Z as $t,$ as qt,a0 as K,a1 as $e,a2 as qe,a3 as Ee,a4 as Pe,a5 as Et,a6 as Oe,a7 as be,a8 as Pt,a9 as se,aa as Ot,ab as Ut,ac as At,ad as Vt,ae as Ue,af as Ae,ag as Bt,ah as Ve,ai as G,aj as j,ak as Z,al as re,am as Be,an as De}from"./index.7938054f.js";import{Q as Dt,a as Qe}from"./QToolbar.5e8661aa.js";import{Q as ue,a as te,b as W}from"./QItemLabel.3dccd102.js";import{Q as Re}from"./QList.983ed313.js";import{Q as et}from"./QMenu.2d0c7e79.js";import{Q as we}from"./touch.d521a8a2.js";import{T as ye}from"./TouchPan.e2b9a685.js";import{Q as Qt}from"./QScrollObserver.780d9ab5.js";import{o as Rt}from"./open-url.c549bc42.js";import"./selection.d1bc92c3.js";var Nt=Y({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:m,emit:y}){const{proxy:{$q:f}}=ae(),i=Se(de,()=>{console.error("QHeader needs to be child of QLayout")}),l=T(parseInt(e.heightHint,10)),w=T(!0),p=s(()=>e.reveal===!0||i.view.value.indexOf("H")>-1||f.platform.is.ios&&i.isContainer.value===!0),u=s(()=>{if(e.modelValue!==!0)return 0;if(p.value===!0)return w.value===!0?l.value:0;const n=l.value-i.scroll.value.position;return n>0?n:0}),a=s(()=>e.modelValue!==!0||p.value===!0&&w.value!==!0),L=s(()=>e.modelValue===!0&&a.value===!0&&e.reveal===!0),O=s(()=>"q-header q-layout__section--marginal "+(p.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(a.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),$=s(()=>{const n=i.rows.value.top,x={};return n[0]==="l"&&i.left.space===!0&&(x[f.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),n[2]==="r"&&i.right.space===!0&&(x[f.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),x});function v(n,x){i.update("header",n,x)}function k(n,x){n.value!==x&&(n.value=x)}function o({height:n}){k(l,n),v("size",n)}function c(n){L.value===!0&&k(w,!0),y("focusin",n)}S(()=>e.modelValue,n=>{v("space",n),k(w,!0),i.animate()}),S(u,n=>{v("offset",n)}),S(()=>e.reveal,n=>{n===!1&&k(w,e.modelValue)}),S(w,n=>{i.animate(),y("reveal",n)}),S(i.scroll,n=>{e.reveal===!0&&k(w,n.direction==="up"||n.position<=e.revealOffset||n.position-n.inflectionPoint<100)});const I={};return i.instances.header=I,e.modelValue===!0&&v("size",l.value),v("space",e.modelValue),v("offset",u.value),ce(()=>{i.instances.header===I&&(i.instances.header=void 0,v("size",0),v("offset",0),v("space",!1))}),()=>{const n=ht(m.default,[]);return e.elevated===!0&&n.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push(h(we,{debounce:0,onResize:o})),h("header",{class:O.value,style:$.value,onFocusin:c},n)}}}),zt=Y({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:m,emit:y}){let f=!1,i,l,w,p,u,a;function L(){i&&i(),i=null,f=!1,clearTimeout(w),clearTimeout(p),l!==void 0&&l.removeEventListener("transitionend",u),u=null}function O(o,c,I){o.style.overflowY="hidden",c!==void 0&&(o.style.height=`${c}px`),o.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,f=!0,i=I}function $(o,c){o.style.overflowY=null,o.style.height=null,o.style.transition=null,L(),c!==a&&y(c)}function v(o,c){let I=0;l=o,f===!0?(L(),I=o.offsetHeight===o.scrollHeight?0:void 0):a="hide",O(o,I,c),w=setTimeout(()=>{o.style.height=`${o.scrollHeight}px`,u=n=>{(Object(n)!==n||n.target===o)&&$(o,"show")},o.addEventListener("transitionend",u),p=setTimeout(u,e.duration*1.1)},100)}function k(o,c){let I;l=o,f===!0?L():(a="show",I=o.scrollHeight),O(o,I,c),w=setTimeout(()=>{o.style.height=0,u=n=>{(Object(n)!==n||n.target===o)&&$(o,"hide")},o.addEventListener("transitionend",u),p=setTimeout(u,e.duration*1.1)},100)}return ce(()=>{f===!0&&L()}),()=>h(mt,{css:!1,appear:e.appear,onEnter:v,onLeave:k},m.default)}});const F=_t({}),Mt=Object.keys(ze);var Ht=Y({name:"QExpansionItem",props:{...ze,...Me,...He,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...We,"click","after-show","after-hide"],setup(e,{slots:m,emit:y}){const{proxy:{$q:f}}=ae(),i=Fe(e,f),l=T(e.modelValue!==null?e.modelValue:e.defaultOpened),w=T(null),{hide:p,toggle:u}=Ge({showing:l});let a,L;const O=s(()=>`q-expansion-item q-item-type q-expansion-item--${l.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),$=s(()=>{if(e.contentInsetLevel===void 0)return null;const r=f.lang.rtl===!0?"Right":"Left";return{["padding"+r]:e.contentInsetLevel*56+"px"}}),v=s(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),k=s(()=>{const r={};return Mt.forEach(U=>{r[U]=e[U]}),r}),o=s(()=>v.value===!0||e.expandIconToggle!==!0),c=s(()=>e.expandedIcon!==void 0&&l.value===!0?e.expandedIcon:e.expandIcon||f.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),I=s(()=>e.disable!==!0&&(v.value===!0||e.expandIconToggle===!0));S(()=>e.group,r=>{L!==void 0&&L(),r!==void 0&&B()});function n(r){v.value!==!0&&u(r),y("click",r)}function x(r){r.keyCode===13&&d(r,!0)}function d(r,U){U!==!0&&w.value!==null&&w.value.focus(),u(r),wt(r)}function C(){y("after-show")}function V(){y("after-hide")}function B(){a===void 0&&(a=bt()),l.value===!0&&(F[e.group]=a);const r=S(l,Q=>{Q===!0?F[e.group]=a:F[e.group]===a&&delete F[e.group]}),U=S(()=>F[e.group],(Q,X)=>{X===a&&Q!==void 0&&Q!==a&&p()});L=()=>{r(),U(),F[e.group]===a&&delete F[e.group],L=void 0}}function D(){const r={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},U=[h(ee,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&l.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:c.value})];return I.value===!0&&(Object.assign(r,{tabindex:0,onClick:d,onKeyup:x}),U.unshift(h("div",{ref:w,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),h(W,r,()=>U)}function q(){let r;return m.header!==void 0?r=[].concat(m.header({expanded:l.value===!0})):(r=[h(W,()=>[h(te,{lines:e.labelLines},()=>e.label||""),e.caption?h(te,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&r[e.switchToggleSide===!0?"push":"unshift"](h(W,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>h(ee,{name:e.icon})))),e.disable!==!0&&r[e.switchToggleSide===!0?"unshift":"push"](D()),r}function N(){const r={ref:"item",style:e.headerStyle,class:e.headerClass,dark:i.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return o.value===!0&&(r.clickable=!0,r.onClick=n,v.value===!0&&Object.assign(r,k.value)),h(ue,r,q)}function ne(){return je(h("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:$.value},Ce(m.default)),[[yt,l.value]])}function z(){const r=[N(),h(zt,{duration:e.duration,onShow:C,onHide:V},ne)];return e.expandSeparator===!0&&r.push(h(Ie,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:i.value}),h(Ie,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:i.value})),r}return e.group!==void 0&&B(),ce(()=>{L!==void 0&&L()}),()=>h("div",{class:O.value},[h("div",{class:"q-expansion-item__container relative-position"},z())])}});const Ne=150;var Wt=Y({name:"QDrawer",inheritAttrs:!1,props:{...Me,...He,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...We,"on-layout","mini-state"],setup(e,{slots:m,emit:y,attrs:f}){const i=ae(),{proxy:{$q:l}}=i,w=Fe(e,l),{preventBodyScroll:p}=pt(),{registerTimeout:u}=St(),a=Se(de,()=>{console.error("QDrawer needs to be child of QLayout")});let L,O,$;const v=T(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),k=s(()=>e.mini===!0&&v.value!==!0),o=s(()=>k.value===!0?e.miniWidth:e.width),c=T(e.showIfAbove===!0&&v.value===!1?!0:e.modelValue===!0),I=s(()=>e.persistent!==!0&&(v.value===!0||tt.value===!0));function n(t,g){if(V(),t!==!1&&a.animate(),A(0),v.value===!0){const E=a.instances[Q.value];E!==void 0&&E.belowBreakpoint===!0&&E.hide(!1),M(1),a.isContainer.value!==!0&&p(!0)}else M(0),t!==!1&&ge(!1);u(()=>{t!==!1&&ge(!0),g!==!0&&y("show",t)},Ne)}function x(t,g){B(),t!==!1&&a.animate(),M(0),A(N.value*o.value),he(),g!==!0&&u(()=>{y("hide",t)},Ne)}const{show:d,hide:C}=Ge({showing:c,hideOnRouteChange:I,handleShow:n,handleHide:x}),{addToHistory:V,removeFromHistory:B}=Ct(c,C,I),D={belowBreakpoint:v,hide:C},q=s(()=>e.side==="right"),N=s(()=>(l.lang.rtl===!0?-1:1)*(q.value===!0?1:-1)),ne=T(0),z=T(!1),r=T(!1),U=T(o.value*N.value),Q=s(()=>q.value===!0?"left":"right"),X=s(()=>c.value===!0&&v.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:o.value:0),fe=s(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(q.value?"R":"L")>-1||l.platform.is.ios===!0&&a.isContainer.value===!0),J=s(()=>e.overlay===!1&&c.value===!0&&v.value===!1),tt=s(()=>e.overlay===!0&&c.value===!0&&v.value===!1),at=s(()=>"fullscreen q-drawer__backdrop"+(c.value===!1&&z.value===!1?" hidden":"")),nt=s(()=>({backgroundColor:`rgba(0,0,0,${ne.value*.4})`})),Le=s(()=>q.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),it=s(()=>q.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),lt=s(()=>{const t={};return a.header.space===!0&&Le.value===!1&&(fe.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&it.value===!1&&(fe.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),ot=s(()=>{const t={width:`${o.value}px`,transform:`translateX(${U.value}px)`};return v.value===!0?t:Object.assign(t,lt.value)}),st=s(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),rt=s(()=>`q-drawer q-drawer--${e.side}`+(r.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(w.value===!0?" q-drawer--dark q-dark":"")+(z.value===!0?" no-transition":c.value===!0?"":" q-layout--prevent-focus")+(v.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${k.value===!0?"mini":"standard"}`+(fe.value===!0||J.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Le.value===!0?" q-drawer--top-padding":""))),ut=s(()=>{const t=l.lang.rtl===!0?e.side:Q.value;return[[ye,vt,void 0,{[t]:!0,mouse:!0}]]}),ct=s(()=>{const t=l.lang.rtl===!0?Q.value:e.side;return[[ye,pe,void 0,{[t]:!0,mouse:!0}]]}),dt=s(()=>{const t=l.lang.rtl===!0?Q.value:e.side;return[[ye,pe,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function ve(){gt(v,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}S(v,t=>{t===!0?(L=c.value,c.value===!0&&C(!1)):e.overlay===!1&&e.behavior!=="mobile"&&L!==!1&&(c.value===!0?(A(0),M(0),he()):d(!1))}),S(()=>e.side,(t,g)=>{a.instances[g]===D&&(a.instances[g]=void 0,a[g].space=!1,a[g].offset=0),a.instances[t]=D,a[t].size=o.value,a[t].space=J.value,a[t].offset=X.value}),S(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&ve()}),S(()=>e.behavior+e.breakpoint,ve),S(a.isContainer,t=>{c.value===!0&&p(t!==!0),t===!0&&ve()}),S(a.scrollbarWidth,()=>{A(c.value===!0?0:void 0)}),S(X,t=>{H("offset",t)}),S(J,t=>{y("on-layout",t),H("space",t)}),S(q,()=>{A()}),S(o,t=>{A(),me(e.miniToOverlay,t)}),S(()=>e.miniToOverlay,t=>{me(t,o.value)}),S(()=>l.lang.rtl,()=>{A()}),S(()=>e.mini,()=>{e.modelValue===!0&&(ft(),a.animate())}),S(k,t=>{y("mini-state",t)});function A(t){t===void 0?ke(()=>{t=c.value===!0?0:o.value,A(N.value*t)}):(a.isContainer.value===!0&&q.value===!0&&(v.value===!0||Math.abs(t)===o.value)&&(t+=N.value*a.scrollbarWidth.value),U.value=t)}function M(t){ne.value=t}function ge(t){const g=t===!0?"remove":a.isContainer.value!==!0?"add":"";g!==""&&document.body.classList[g]("q-body--drawer-toggle")}function ft(){clearTimeout(O),i.proxy&&i.proxy.$el&&i.proxy.$el.classList.add("q-drawer--mini-animate"),r.value=!0,O=setTimeout(()=>{r.value=!1,i&&i.proxy&&i.proxy.$el&&i.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function vt(t){if(c.value!==!1)return;const g=o.value,E=le(t.distance.x,0,g);if(t.isFinal===!0){E>=Math.min(75,g)===!0?d():(a.animate(),M(0),A(N.value*g)),z.value=!1;return}A((l.lang.rtl===!0?q.value!==!0:q.value)?Math.max(g-E,0):Math.min(0,E-g)),M(le(E/g,0,1)),t.isFirst===!0&&(z.value=!0)}function pe(t){if(c.value!==!0)return;const g=o.value,E=t.direction===e.side,ie=(l.lang.rtl===!0?E!==!0:E)?le(t.distance.x,0,g):0;if(t.isFinal===!0){Math.abs(ie)<Math.min(75,g)===!0?(a.animate(),M(1),A(0)):C(),z.value=!1;return}A(N.value*ie),M(le(1-ie/g,0,1)),t.isFirst===!0&&(z.value=!0)}function he(){p(!1),ge(!0)}function H(t,g){a.update(e.side,t,g)}function gt(t,g){t.value!==g&&(t.value=g)}function me(t,g){H("size",t===!0?e.miniWidth:g)}return a.instances[e.side]=D,me(e.miniToOverlay,o.value),H("space",J.value),H("offset",X.value),e.showIfAbove===!0&&e.modelValue!==!0&&c.value===!0&&e["onUpdate:modelValue"]!==void 0&&y("update:modelValue",!0),Lt(()=>{y("on-layout",J.value),y("mini-state",k.value),L=e.showIfAbove===!0;const t=()=>{(c.value===!0?n:x)(!1,!0)};if(a.totalWidth.value!==0){ke(t);return}$=S(a.totalWidth,()=>{$(),$=void 0,c.value===!1&&e.showIfAbove===!0&&v.value===!1?d(!1):t()})}),ce(()=>{$!==void 0&&$(),clearTimeout(O),c.value===!0&&he(),a.instances[e.side]===D&&(a.instances[e.side]=void 0,H("size",0),H("offset",0),H("space",!1))}),()=>{const t=[];v.value===!0&&(e.noSwipeOpen===!1&&t.push(je(h("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),ut.value)),t.push(xe("div",{ref:"backdrop",class:at.value,style:nt.value,"aria-hidden":"true",onClick:C},void 0,"backdrop",e.noSwipeBackdrop!==!0&&c.value===!0,()=>dt.value)));const g=k.value===!0&&m.mini!==void 0,E=[h("div",{...f,key:""+g,class:[st.value,f.class]},g===!0?m.mini():Ce(m.default))];return e.elevated===!0&&c.value===!0&&E.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(xe("aside",{ref:"content",class:rt.value,style:ot.value},E,"contentclose",e.noSwipeClose!==!0&&v.value===!0,()=>ct.value)),h("div",{class:"q-drawer-container"},t)}}}),Ft=Y({name:"QPageContainer",setup(e,{slots:m}){const{proxy:{$q:y}}=ae(),f=Se(de,()=>{console.error("QPageContainer needs to be child of QLayout")});Ke(It,!0);const i=s(()=>{const l={};return f.header.space===!0&&(l.paddingTop=`${f.header.size}px`),f.right.space===!0&&(l[`padding${y.lang.rtl===!0?"Left":"Right"}`]=`${f.right.size}px`),f.footer.space===!0&&(l.paddingBottom=`${f.footer.size}px`),f.left.space===!0&&(l[`padding${y.lang.rtl===!0?"Right":"Left"}`]=`${f.left.size}px`),l});return()=>h("div",{class:"q-page-container",style:i.value},Ce(m.default))}}),Gt=Y({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:m,emit:y}){const{proxy:{$q:f}}=ae(),i=T(null),l=T(f.screen.height),w=T(e.container===!0?0:f.screen.width),p=T({position:0,direction:"down",inflectionPoint:0}),u=T(0),a=T(kt.value===!0?0:_e()),L=s(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),O=s(()=>e.container===!1?{minHeight:f.screen.height+"px"}:null),$=s(()=>a.value!==0?{[f.lang.rtl===!0?"left":"right"]:`${a.value}px`}:null),v=s(()=>a.value!==0?{[f.lang.rtl===!0?"right":"left"]:0,[f.lang.rtl===!0?"left":"right"]:`-${a.value}px`,width:`calc(100% + ${a.value}px)`}:null);function k(d){if(e.container===!0||document.qScrollPrevented!==!0){const C={position:d.position.top,direction:d.direction,directionChanged:d.directionChanged,inflectionPoint:d.inflectionPoint.top,delta:d.delta.top};p.value=C,e.onScroll!==void 0&&y("scroll",C)}}function o(d){const{height:C,width:V}=d;let B=!1;l.value!==C&&(B=!0,l.value=C,e.onScrollHeight!==void 0&&y("scroll-height",C),I()),w.value!==V&&(B=!0,w.value=V),B===!0&&e.onResize!==void 0&&y("resize",d)}function c({height:d}){u.value!==d&&(u.value=d,I())}function I(){if(e.container===!0){const d=l.value>u.value?_e():0;a.value!==d&&(a.value=d)}}let n;const x={instances:{},view:s(()=>e.view),isContainer:s(()=>e.container),rootRef:i,height:l,containerHeight:u,scrollbarWidth:a,totalWidth:s(()=>w.value+a.value),rows:s(()=>{const d=e.view.toLowerCase().split(" ");return{top:d[0].split(""),middle:d[1].split(""),bottom:d[2].split("")}}),header:oe({size:0,offset:0,space:!1}),right:oe({size:300,offset:0,space:!1}),footer:oe({size:0,offset:0,space:!1}),left:oe({size:300,offset:0,space:!1}),scroll:p,animate(){n!==void 0?clearTimeout(n):document.body.classList.add("q-body--layout-animate"),n=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),n=void 0},155)},update(d,C,V){x[d][C]=V}};if(Ke(de,x),_e()>0){let V=function(){d=null,C.classList.remove("hide-scrollbar")},B=function(){if(d===null){if(C.scrollHeight>f.screen.height)return;C.classList.add("hide-scrollbar")}else clearTimeout(d);d=setTimeout(V,300)},D=function(q){d!==null&&q==="remove"&&(clearTimeout(d),V()),window[`${q}EventListener`]("resize",B)},d=null;const C=document.body;S(()=>e.container!==!0?"add":"remove",D),e.container!==!0&&D("add"),xt(()=>{D("remove")})}return()=>{const d=Tt(m.default,[h(Qt,{onScroll:k}),h(we,{onResize:o})]),C=h("div",{class:L.value,style:O.value,ref:e.container===!0?void 0:i,tabindex:-1},d);return e.container===!0?h("div",{class:"q-layout-container overflow-hidden",ref:i},[h(we,{onResize:c}),h("div",{class:"absolute-full",style:$.value},[h("div",{class:"scroll",style:v.value},[C])])]):C}}});const jt={data(){return{languageOptions:[{label:"Deutsch",value:"de-de"},{label:"Englisch",value:"en-us"},{label:"Espa\xF1ol",value:"es-es"}]}},methods:{...Ye(["setLanguageLocale"]),...Xe([Te])},computed:{...Je(["getUserId","getUserLanguageLocale","getUserToken"]),languageGroup:{get(){return this.$store.getters.getUserLanguageLocale},set(e){this.setLanguageLocale(e),this.$root.$i18n.locale=e,this[Te]({userId:this.getUserId,language:this.getUserLanguageLocale,token:this.getUserToken})}}},watch:{languageGroup(){this.$refs.languageMenu.hide()}}},Kt={style:{"min-width":"110px"}};function Yt(e,m,y,f,i,l){return P(),R(K,{flat:"",icon:"language",style:{"max-width":"32px"}},{default:_(()=>[b(et,{"auto-close":"",ref:"languageMenu"},{default:_(()=>[$t("div",Kt,[b(qt,{modelValue:l.languageGroup,"onUpdate:modelValue":m[0]||(m[0]=w=>l.languageGroup=w),options:i.languageOptions},null,8,["modelValue","options"])])]),_:1},512)]),_:1})}var Xt=Ze(jt,[["render",Yt]]);const Jt={name:"MyLayout",data(){return{leftDrawerOpen:this.$q.platform.is.desktop,incomingCallNotification:null,ringtone:new Audio("sounds/ringtone.mp3")}},methods:{openURL:Rt,logout(){this[$e]({token:this.getUserToken,sessionId:this.getUserSessionId})},listen(){this.getUserActiveProfileId&&this.$echo.channel(`profile.${this.getUserActiveProfileId}`).listen("MessageToProfile",e=>{if(e.message.type!=="isWriting"&&(this[qe](e.message),e.message.type==="newChatmessage"))if(e.message.senderProfile.id===this.getChatChatMessagesProfileIdSet)this[Ee]({chatMessageId:e.message.chatmessage.id,token:this.getUserToken});else{let m=e.message.chatmessage.messageText;m.length>100&&(m+="\u2026"),this.incomingCallNotification=Pe.create({message:`${this.$t("chat_message_newMessageFrom")} ${e.message.senderProfile.name}`,caption:m,color:"teal",textColor:"white",icon:"email"})}if(e.message.type==="isWriting"&&(this.chatSetProfileSetIsWriting({isWriting:!0}),this.resetIsWriting()),e.message.type==="updateCall"){this.vcSetCall({responseData:{call:e.message.call}});const{status:m}=e.message.call;switch(m){case Pt:this[se]({id:e.message.call.id,status:this.getVCcallerStatus===be?Ot:Oe,token:this.getUserToken}),this.getVCcallerStatus===be&&(this.ringtone.play(),this.incomingCallNotification=Pe.create({message:Ut("vc_notification_incomingCall_from",{name:e.message.call.profile_name_receiver}),timeout:1e4,color:"info",textColor:"white",icon:"video_call",position:"center",multiline:!0,group:!1,onDismiss:()=>{this.ringtone.pause(),this.ringtone.currentTime=0,this.incomingCallNotification=null},actions:[{icon:"call_end",label:this.$t("vc_button_call_decline"),color:"red",handler:()=>{this[se]({id:e.message.call.id,status:At,token:this.getUserToken})}},{icon:"call",label:this.$t("vc_button_call_accept"),color:"green",handler:()=>{this.ringtone.pause(),this.ringtone.currentTime=0,this[se]({id:e.message.call.id,status:Vt,token:this.getUserToken,sessionIdReceiver:this.getUserSessionId}),this.vcSetModeUseReceivedProfile({modeUseReceivedProfile:!0}),this[Ue]({id:e.message.call.profile_id_caller,token:this.getUserToken}),this.$route.path!=="/profileDetail/videochat"&&this.$router.push("/profileDetail/videochat")}}]}));break;case Oe:this.vcSetCallerStatus(be);break;case Et:this.incomingCallNotification&&(console.log("Handling VC_CALL_END_CALL"),this.incomingCallNotification()),this.vcInitComponent();break}}})},...Ye(["chatSetProfileSetIsWriting","vcInitComponent","vcSetCall","vcSetCallerStatus","vcSetModeUseReceivedProfile"]),...Xe([$e,qe,Ee,se,Ue])},computed:{...Je(["getChatChatMessagesProfileIdSet","getIsLoggedIn","getUserLanguageLocale","getUserToken","getUserName","getUserActiveProfileId","getUserSessionId","getVCcallerStatus"]),navs(){return[{label:this.$t("menu_navigation_home"),icon:"mdi-home",to:"/"},{label:this.$t("menu_chat_title"),hide:!this.getIsLoggedIn||!Ae.featureChat,icon:"chat",to:"/chat"},{label:this.$t("menu_user_menu_account_title_acountSettings"),hide:!this.getIsLoggedIn,icon:"account_circle",menuItems:[{label:this.$t("menu_user_menu_account_item_credentials"),to:"/credentials"},{label:this.$t("menu_user_menu_account_item_deleteAccount"),to:"/deleteAccount"}]},{label:this.$t("menu_profile_title"),hide:!this.getIsLoggedIn,icon:"mdi-card-account-details",menuItems:[{label:this.$t("menu_profile_item_personalData"),to:"/profilePersonalData"},{label:this.$t("menu_profile_item_profilePicture"),to:"/profilePicture"},{label:this.$t("menu_profile_item_images"),to:"/profileImages"}]},{label:this.$t("menu_payments_title"),hide:!this.getIsLoggedIn,icon:"euro_symbol",menuItems:[{label:this.$t("menu_payments_makeTransfer"),to:"/payments"},{label:this.$t("menu_payments_transactions"),to:"/transactions"}]},{label:this.$t("menu_contact_title"),icon:"contact_support",to:"/contact"},{label:this.$t("menu_voiceControlDemo_title"),hide:!Ae.featureVoiceControlDemo,icon:"mic",to:"/voiceControlDemo"},{label:"Protected",icon:"security",to:"/protected"}]}},watch:{getUserActiveProfileId(){this.listen()}},mounted(){this.$root.$i18n.locale=this.getUserLanguageLocale,this.listen(),this.resetIsWriting=Bt.exports.debounce(()=>{this.chatSetProfileSetIsWriting({isWriting:!1})},5e3,{leading:!1,trailing:!0})},components:{"user-language-menu":Xt}};function Zt(e,m,y,f,i,l){const w=Ve("user-language-menu"),p=Ve("router-view");return P(),R(Gt,{view:"lHh Lpr lFf"},{default:_(()=>[b(Nt,{elevated:""},{default:_(()=>[b(Dt,null,{default:_(()=>[b(K,{flat:"",dense:"",round:"",onClick:m[0]||(m[0]=u=>i.leftDrawerOpen=!i.leftDrawerOpen),"aria-label":"Menu"},{default:_(()=>[b(ee,{name:"menu"})]),_:1}),b(Qe,{class:"lt-md"},{default:_(()=>[G(j(),1)]),_:1}),b(Qe,{class:"gt-sm"},{default:_(()=>[G(j(e.$t("app_applicationName")),1)]),_:1}),b(w),e.getIsLoggedIn?Z("",!0):(P(),R(K,{key:0,to:"/login",flat:"",label:e.$t("app_log_label_Login")},null,8,["label"])),e.getIsLoggedIn?(P(),R(K,{key:2,onClick:l.logout,flat:"",label:e.$t("app_log_label_Logout")},null,8,["onClick","label"])):(P(),R(K,{key:1,to:"/register",flat:"",label:e.$t("app_log_label_Register")},null,8,["label"])),e.getUserToken?(P(),R(K,{key:3,class:"toolbar-username toolbar-button-text",flat:"",icon:"account_circle",label:e.getUserName},{default:_(()=>[e.getIsLoggedIn?(P(),R(et,{key:0,"auto-close":""},{default:_(()=>[b(Re,{style:{"min-width":"100px"}},{default:_(()=>[b(ue,{clickable:"",to:"/credentials"},{default:_(()=>[b(W,null,{default:_(()=>[G(j(e.$t("menu_user_menu_account_item_credentials")),1)]),_:1})]),_:1})]),_:1})]),_:1})):Z("",!0)]),_:1},8,["label"])):Z("",!0)]),_:1})]),_:1}),b(Wt,{modelValue:i.leftDrawerOpen,"onUpdate:modelValue":m[1]||(m[1]=u=>i.leftDrawerOpen=u),bordered:"",class:"bg-primary"},{default:_(()=>[b(Re,{dark:""},{default:_(()=>[b(te,{header:""},{default:_(()=>[G(j(e.$t("menu_navigation_title")),1)]),_:1}),(P(!0),re(De,null,Be(l.navs,u=>(P(),re("div",{key:u.label},[u.to&&!u.hide?(P(),R(ue,{key:0,to:u.to,class:"text-grey-4",exact:"",clickable:""},{default:_(()=>[b(W,{avatar:""},{default:_(()=>[b(ee,{name:u.icon},null,8,["name"])]),_:2},1024),b(W,null,{default:_(()=>[b(te,null,{default:_(()=>[G(j(u.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])):Z("",!0),!u.to&&!u.hide?(P(),R(Ht,{key:1,"expand-separator":"",icon:u.icon,label:u.label},{default:_(()=>[(P(!0),re(De,null,Be(u.menuItems,a=>(P(),re("div",{key:a.label},[b(ue,{to:a.to,class:"text-grey-4",exact:"",clickable:""},{default:_(()=>[b(W,{avatar:""},{default:_(()=>[b(ee,{name:a.icon},null,8,["name"])]),_:2},1024),b(W,null,{default:_(()=>[b(te,null,{default:_(()=>[G(j(a.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])]))),128))]),_:2},1032,["icon","label"])):Z("",!0)]))),128))]),_:1})]),_:1},8,["modelValue"]),b(Ft,null,{default:_(()=>[b(p)]),_:1})]),_:1})}var da=Ze(Jt,[["render",Zt],["__scopeId","data-v-3efdef01"]]);export{da as default};
