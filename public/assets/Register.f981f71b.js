import{_ as h,af as b,b0 as c,P as Q,R as v,S as C,V as u,W as g,X as o,ah as V,Y as r,Z as n,y as i,ai as p,aj as f,aW as m,al as d,ak as _,a0 as q,aR as w,an as D,am as E,aX as k}from"./index.cbecdcbb.js";import{Q as P}from"./QBanner.05f4bf5f.js";import{Q as S}from"./QSpace.87693de5.js";import{Q as L,a as R}from"./QToolbar.9345a175.js";import{Q as z,b as K,a as U}from"./QItemLabel.c74447ef.js";import{Q as F}from"./QList.f6826a82.js";import{Q as I}from"./QPage.e178c377.js";import{U as N}from"./UserPwSequrityQuestionSelect.37dae563.js";import"./QSelect.ac02db8d.js";import"./QChip.11cf9847.js";import"./QMenu.6dace97c.js";import"./selection.81317355.js";import"./rtl.4b414a6d.js";const $={components:{"user-pw-sequrity-question-select":N},data(){return{formData:{name:"Testname",email:"test@test.de",password:"123456",confirmPassword:"123456",securityQuestionKey:"",answerSecurityQuestion:""},passwordVisible:!1,settings:b}},methods:{isValidEmailAddress(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},isConfirmpasswordEqualPassword(e){return!this.formData.password||e===this.formData.password?!0:this.$t("app_register_err_Passwords_do_not_match")},submitForm(){this.$refs.name.validate(),this.$refs.email.validate(),this.$refs.password.validate(),this.$refs.confirmPassword.validate(),this.settings.featureResetPassword&&(this.$refs.securityQuestion.validate(),this.$refs.answerSecurityQuestion.validate());let e=this.$refs.name.hasError||this.$refs.email.hasError||this.$refs.password.hasError||this.$refs.confirmPassword.hasError;!e&&this.settings.featureResetPassword&&(e=this.$refs.securityQuestion.hasError||this.$refs.answerSecurityQuestion.hasError),e||this[c]({...this.formData,languageLocale:this.getUserLanguageLocale,router:this.$router,redirectTo:this.$route.query.redirect})},...Q(["userBackendCallInitialize"]),...v([c]),onSecurityQuestionChange(e){this.formData.securityQuestionKey=e},onChangeFormData(e){this.getErrorlist.length&&this.userBackendCallInitialize(),e&&e==="password"&&this.$refs.confirmPassword.value&&this.$refs.confirmPassword.validate()}},computed:{...C(["getErrorlist","getUserLanguageLocale"])},created(){this.userBackendCallInitialize({excludeErrorGroupsArray:["displayOnNextPageLoad"]})},mounted(){this.$root.$i18n.locale=this.getUserLanguageLocale}},B={class:"row q-mb-md"},O={class:"row q-mb-xs"},T={class:"row q-my-xs"},A={class:"row q-my-xs"},G={class:"row q-my-xs"},Z={key:0,class:"row q-my-xs"},x={key:1,class:"row q-my-xs"},W={class:"row"},X={key:2,class:"row"};function j(e,a,M,Y,t,l){const y=V("user-pw-sequrity-question-select");return u(),g(I,{padding:""},{default:o(()=>[r(w,{class:"login-card"},{default:o(()=>[n("form",{onSubmit:a[8]||(a[8]=k((...s)=>l.submitForm&&l.submitForm(...s),["prevent"]))},[n("div",B,[r(P,{class:"bg-grey-3 col"},{avatar:o(()=>[r(i,{name:"account_circle",color:"primary"})]),default:o(()=>[p(" "+f(e.$t("app_register_dialog_Title")),1)]),_:1})]),n("div",O,[r(m,{modelValue:t.formData.name,"onUpdate:modelValue":a[0]||(a[0]=s=>t.formData.name=s),onKeyup:l.onChangeFormData,autofocus:"",rules:[s=>s.length>=2||e.$t("app_log_err_enter_minNumOfChars",{numOfChars:2})],ref:"name","lazy-rules":"",outlined:"",class:"col",label:e.$t("app_log_label_Name"),"stack-label":""},{prepend:o(()=>[r(i,{name:"account_circle"})]),_:1},8,["modelValue","onKeyup","rules","label"])]),n("div",T,[r(m,{modelValue:t.formData.email,"onUpdate:modelValue":a[1]||(a[1]=s=>t.formData.email=s),onKeyup:l.onChangeFormData,rules:[s=>l.isValidEmailAddress(s)||e.$t("app_log_err_email_invalid")],ref:"email","lazy-rules":"",outlined:"",class:"col",label:e.$t("app_log_label_Email"),"stack-label":""},{prepend:o(()=>[r(i,{name:"email"})]),_:1},8,["modelValue","onKeyup","rules","label"])]),n("div",A,[r(m,{modelValue:t.formData.password,"onUpdate:modelValue":a[3]||(a[3]=s=>t.formData.password=s),onKeyup:a[4]||(a[4]=s=>l.onChangeFormData("password")),rules:[s=>s.length>=6||e.$t("app_log_err_enter_minNumOfChars",{numOfChars:6})],ref:"password","lazy-rules":"",type:t.passwordVisible?"text":"password",outlined:"",class:"col",label:e.$t("app_log_label_Password"),"stack-label":""},{prepend:o(()=>[r(i,{name:"lock"})]),append:o(()=>[r(i,{name:t.passwordVisible?"visibility":"visibility_off",class:"cursor-pointer",onClick:a[2]||(a[2]=s=>t.passwordVisible=!t.passwordVisible)},null,8,["name"])]),_:1},8,["modelValue","rules","type","label"])]),n("div",G,[r(m,{modelValue:t.formData.confirmPassword,"onUpdate:modelValue":a[6]||(a[6]=s=>t.formData.confirmPassword=s),onKeyup:l.onChangeFormData,rules:[s=>s.length>=6||e.$t("app_log_err_enter_minNumOfChars",{numOfChars:6}),l.isConfirmpasswordEqualPassword],ref:"confirmPassword","lazy-rules":"",type:t.passwordVisible?"text":"password",outlined:"",class:"col",label:e.$t("app_log_label_Confirm_Password"),"stack-label":""},{prepend:o(()=>[r(i,{name:"lock"})]),append:o(()=>[r(i,{name:t.passwordVisible?"visibility":"visibility_off",class:"cursor-pointer",onClick:a[5]||(a[5]=s=>t.passwordVisible=!t.passwordVisible)},null,8,["name"])]),_:1},8,["modelValue","onKeyup","rules","type","label"])]),t.settings.featureResetPassword?(u(),d("div",Z,[r(y,{onChange:l.onSecurityQuestionChange,ref:"securityQuestion"},null,8,["onChange"])])):_("",!0),t.settings.featureResetPassword?(u(),d("div",x,[r(m,{modelValue:t.formData.answerSecurityQuestion,"onUpdate:modelValue":a[7]||(a[7]=s=>t.formData.answerSecurityQuestion=s),onKeyup:l.onChangeFormData,rules:[s=>s.length>=2||e.$t("app_log_err_enter_minNumOfChars",{numOfChars:2})],ref:"answerSecurityQuestion","lazy-rules":"",outlined:"",class:"col",label:e.$t("user_pw_reset_answersecurity_question_label"),"stack-label":""},{prepend:o(()=>[r(i,{name:"question_answer"})]),_:1},8,["modelValue","onKeyup","rules","label"])])):_("",!0),n("div",W,[r(S),r(q,{color:"primary",label:e.$t("app_log_label_Register"),type:"submit"},null,8,["label"])]),e.getErrorlist.length?(u(),d("div",X,[r(w,{flat:"",bordered:"",class:"error-card q-mt-md bg-red-1"},{default:o(()=>[r(L,{class:"bg-red-1"},{default:o(()=>[r(i,{name:"error",size:"32px",color:"red"}),r(R,null,{default:o(()=>[p(f(e.$t("backend_error_header")),1)]),_:1})]),_:1}),r(F,{bordered:""},{default:o(()=>[(u(!0),d(D,null,E(e.getErrorlist,s=>(u(),g(z,{key:s,class:"q-my-xs error-item"},{default:o(()=>[r(K,null,{default:o(()=>[r(U,null,{default:o(()=>[p(f(s),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])):_("",!0)],32)]),_:1})]),_:1})}var de=h($,[["render",j]]);export{de as default};
